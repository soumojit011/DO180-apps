[student@workstation DO180-apps]$ cat ~/token
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
[student@workstation DO180-apps]$ nscenter --help
bash: nscenter: command not found...
[student@workstation DO180-apps]$ nsenter --help

Usage:
 nsenter [options] [<program> [<argument>...]]

Run a program with namespaces of other processes.

Options:
 -a, --all              enter all namespaces
 -t, --target <pid>     target process to get namespaces from
 -m, --mount[=<file>]   enter mount namespace
 -u, --uts[=<file>]     enter UTS namespace (hostname etc)
 -i, --ipc[=<file>]     enter System V IPC namespace
 -n, --net[=<file>]     enter network namespace
 -p, --pid[=<file>]     enter pid namespace
 -C, --cgroup[=<file>]  enter cgroup namespace
 -U, --user[=<file>]    enter user namespace
 -S, --setuid <uid>     set uid in entered namespace
 -G, --setgid <gid>     set gid in entered namespace
     --preserve-credentials do not touch uids or gids
 -r, --root[=<dir>]     set the root directory
 -w, --wd[=<dir>]       set the working directory
 -F, --no-fork          do not fork before exec'ing <program>
 -Z, --follow-context   set SELinux context according to --target PID

 -h, --help             display this help
 -V, --version          display version

For more details see nsenter(1).
[student@workstation DO180-apps]$ ulimit
unlimited
[student@workstation DO180-apps]$ sudo systemctl status sshd
● sshd.service - OpenSSH server daemon
   Loaded: loaded (/usr/lib/systemd/system/sshd.service; enabled; vendor preset>
   Active: active (running) since Sun 2021-09-19 20:44:59 EDT; 5h 4min ago
     Docs: man:sshd(8)
           man:sshd_config(5)
 Main PID: 1170 (sshd)
    Tasks: 1 (limit: 36445)
   Memory: 2.3M
   CGroup: /system.slice/sshd.service
           └─1170 /usr/sbin/sshd -D -oCiphers=aes256-gcm@openssh.com,chacha20-p>

Sep 19 20:44:59 workstation.lab.example.com systemd[1]: Starting OpenSSH server>
Sep 19 20:44:59 workstation.lab.example.com sshd[1170]: Server listening on 0.0>
Sep 19 20:44:59 workstation.lab.example.com sshd[1170]: Server listening on :: >
Sep 19 20:44:59 workstation.lab.example.com systemd[1]: Started OpenSSH server >

[student@workstation DO180-apps]$ less /etc/security/limits.conf
[student@workstation DO180-apps]$ sudo yum install libgroup-tools
Last metadata expiration check: 1:54:26 ago on Sun 19 Sep 2021 11:58:05 PM EDT.
No match for argument: libgroup-tools
Error: Unable to find a match: libgroup-tools
[student@workstation DO180-apps]$ sudo yum install httpd
Last metadata expiration check: 2:08:19 ago on Sun 19 Sep 2021 11:58:05 PM EDT.
Dependencies resolved.
================================================================================
 Package            Arch   Version     Repository                          Size
================================================================================
Installing:
 httpd              x86_64 2.4.37-21.module+el8.2.0+5008+cca404a3
                                       rhel-8.2-for-x86_64-appstream-rpms 1.4 M
Installing dependencies:
 httpd-filesystem   noarch 2.4.37-21.module+el8.2.0+5008+cca404a3
                                       rhel-8.2-for-x86_64-appstream-rpms  36 k
 mod_http2          x86_64 1.11.3-3.module+el8.2.0+4377+dc421495
                                       rhel-8.2-for-x86_64-appstream-rpms 158 k
 redhat-logos-httpd noarch 81.1-1.el8  rhel-8.2-for-x86_64-baseos-rpms     26 k

Transaction Summary
================================================================================
Install  4 Packages

Total download size: 1.6 M
Installed size: 4.7 M
Is this ok [y/N]: y
Downloading Packages:
(1/4): httpd-filesystem-2.4.37-21.module+el8.2. 1.4 MB/s |  36 kB     00:00    
(2/4): mod_http2-1.11.3-3.module+el8.2.0+4377+d 1.5 MB/s | 158 kB     00:00    
(3/4): httpd-2.4.37-21.module+el8.2.0+5008+cca4 9.0 MB/s | 1.4 MB     00:00    
(4/4): redhat-logos-httpd-81.1-1.el8.noarch.rpm 145 kB/s |  26 kB     00:00    
--------------------------------------------------------------------------------
Total                                           8.8 MB/s | 1.6 MB     00:00     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Running scriptlet: httpd-filesystem-2.4.37-21.module+el8.2.0+5008+cca40   1/4 
  Installing       : httpd-filesystem-2.4.37-21.module+el8.2.0+5008+cca40   1/4 
  Installing       : redhat-logos-httpd-81.1-1.el8.noarch                   2/4 
  Installing       : mod_http2-1.11.3-3.module+el8.2.0+4377+dc421495.x86_   3/4 
  Installing       : httpd-2.4.37-21.module+el8.2.0+5008+cca404a3.x86_64    4/4 
  Running scriptlet: httpd-2.4.37-21.module+el8.2.0+5008+cca404a3.x86_64    4/4 
  Verifying        : redhat-logos-httpd-81.1-1.el8.noarch                   1/4 
  Verifying        : httpd-2.4.37-21.module+el8.2.0+5008+cca404a3.x86_64    2/4 
  Verifying        : httpd-filesystem-2.4.37-21.module+el8.2.0+5008+cca40   3/4 
  Verifying        : mod_http2-1.11.3-3.module+el8.2.0+4377+dc421495.x86_   4/4 

Installed:
  httpd-2.4.37-21.module+el8.2.0+5008+cca404a3.x86_64                           
  httpd-filesystem-2.4.37-21.module+el8.2.0+5008+cca404a3.noarch                
  mod_http2-1.11.3-3.module+el8.2.0+4377+dc421495.x86_64                        
  redhat-logos-httpd-81.1-1.el8.noarch                                          

Complete!
[student@workstation DO180-apps]$ ps -ZC httpd
LABEL                               PID TTY          TIME CMD
[student@workstation DO180-apps]$ lab manage-networking finish

Completing the Guided Exercise: Loading the Database

 · Stopping the 'mysqldb-port' container.......................  SUCCESS
 · Removing the 'mysqldb-port' container.......................  SUCCESS
 · Removing the 'registry.redhat.io/rhel8/mysql-80:1' image....  SUCCESS
 · Removing the /home/student/local/mysql directory............  SUCCESS
 · Removing the fcontext for /home/student/local/mysql.........  SUCCESS
[student@workstation DO180-apps]$ lab manage-review start

Setting up workstation for the Lab: Managing Containers

 · Checking podman configuration...............................  SUCCESS
 · Check that /home/student/local/mysql does not exist.........  SUCCESS
 · Downloading starter project.................................  SUCCESS
 · Downloading solution project................................  SUCCESS

Setup successful. Please proceed with the exercise.

[student@workstation DO180-apps]$ mkdir -pv /home/student/local/mysql
mkdir: created directory '/home/student/local/mysql'
[student@workstation DO180-apps]$ sudo semanage fcontext -a -t container_file_t '/home/student/local/mysql(/.*)?'
[student@workstation DO180-apps]$ sudo restorecon -R /home/student/local/mysql
[student@workstation DO180-apps]$ podman unshare chown -Rv 27:27 /home/student/local/mysql
changed ownership of '/home/student/local/mysql' from root:root to 27:27
[student@workstation DO180-apps]$ podman login registry.redhat.io
Authenticating with existing credentials...
Existing credentials are valid. Already logged in to registry.redhat.io
[student@workstation DO180-apps]$ podman run --name mysql-1 -p 13306:3306 -d -v /home/student/local/mysql:/var/lib/mysql/data -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 registry.redhat.io/rhel8/mysql-80:1
Trying to pull registry.redhat.io/rhel8/mysql-80:1...
Getting image source signatures
Copying blob 1c176e0fbe37 done
Copying blob 296e14ee2414 done
Copying blob 359fed170a21 done
Copying blob 356f18f3a935 done
Copying config 7d3ef14d6a done
Writing manifest to image destination
Storing signatures
7c83a50f4aca4c11de66e9615f9f1d776fee27951cb571fc7302b0950cd90ce7
[student@workstation DO180-apps]$ podman ps --format="{{.ID}} {{.Names}}"
7c83a50f4aca mysql-1
d2d15382328c myweb
[student@workstation DO180-apps]$ mysql -uuser1 -h 127.0.0.1 -pmypa55 -P13306 items < /home/student/DO180/labs/manage-review/db.sql
mysql: [Warning] Using a password on the command line interface can be insecure.
[student@workstation DO180-apps]$ mysql -uuser1 -h 127.0.0.1 -pmypa55 -P13306 items -e "SELECT * FROM Item"
mysql: [Warning] Using a password on the command line interface can be insecure.
+----+-------------------+------+
| id | description       | done |
+----+-------------------+------+
|  1 | Pick up newspaper |    0 |
|  2 | Buy groceries     |    1 |
+----+-------------------+------+
[student@workstation DO180-apps]$ podman stop mysql-1
7c83a50f4aca4c11de66e9615f9f1d776fee27951cb571fc7302b0950cd90ce7
[student@workstation DO180-apps]$ podman run --name mysql-2 -d -v /home/student/local/mysql:/var/lib/mysql/data -p 13306:3306 -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 registry.redhat.io/rhel8/mysql-80:1
c424356d1e8b0c496a5148bdc1e0ecef0b82dad0c29b802e0ae0329eda558bbd
[student@workstation DO180-apps]$ podman ps --format="{{.ID}} {{.Names}}"
c424356d1e8b mysql-2
d2d15382328c myweb
[student@workstation DO180-apps]$ podman ps -a > /tmp/my-containers
[student@workstation DO180-apps]$ podman exec -it mysql-2 /bin/bash
bash-4.4$ mysql -uroot
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 8
Server version: 8.0.21 Source distribution

Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| items              |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.01 sec)

mysql> use items;
Database changed
mysql> show tables;
+-----------------+
| Tables_in_items |
+-----------------+
| Item            |
+-----------------+
1 row in set (0.01 sec)

mysql> SELECT * FROM Item;
+----+-------------------+------+
| id | description       | done |
+----+-------------------+------+
|  1 | Pick up newspaper |    0 |
|  2 | Buy groceries     |    1 |
+----+-------------------+------+
2 rows in set (0.01 sec)

mysql> exit
Bye
bash-4.4$ exit
exit
[student@workstation DO180-apps]$ mysql -uuser1 -h workstation.lab.example.com -pmypa55 -P13306 items
mysql: [Warning] Using a password on the command line interface can be insecure.
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 9
Server version: 8.0.21 Source distribution

Copyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> insert into Item (description, done) values ('Finished lab', 1);
Query OK, 1 row affected (0.03 sec)

mysql> exit
Bye
[student@workstation DO180-apps]$ podman rm mysql-1
7c83a50f4aca4c11de66e9615f9f1d776fee27951cb571fc7302b0950cd90ce7
[student@workstation DO180-apps]$ lab manage-review grade

Grading the student's work for the Lab: Managing Containers

 · Checking if the /home/student/local/mysql folder exists.....  PASS
 · Checking if owner was changed...............................  PASS
 · Checking if the container mysql-1 was created...............  PASS
 · Checking if the mysql-2 container is running................  PASS
 · Checking tables for the 'Finished lab' row..................  PASS
[student@workstation DO180-apps]$ lab manage-review finish

Completing the Lab: Managing Containers

 · Removing the /home/student/local/mysql folder...............  SUCCESS
 · Removing the fcontext for /home/student/local/mysql.........  SUCCESS
 · Stopping mysql-1 container..................................  SUCCESS
 · Removing mysql-1 container..................................  SUCCESS
 · Stopping mysql-2 container..................................  SUCCESS
 · Removing mysql-2 container..................................  SUCCESS
 · Removing MySQL container image..............................  SUCCESS
 · Removing temporary file.....................................  SUCCESS
 · Removing the project directory..............................  SUCCESS
 · Removing the solution directory.............................  SUCCESS
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ pwd
/home/student/DO180-apps
[student@workstation DO180-apps]$ ls -lrth
total 8.0K
-rw-rw-r--. 1 student student 54 Sep 19 22:51 README.md
drwxrwxr-x. 2 student student 23 Sep 19 22:51 temps
drwxrwxr-x. 2 student student 23 Sep 19 22:51 php-helloworld
drwxrwxr-x. 2 student student 40 Sep 19 22:51 nodejs-helloworld
drwxrwxr-x. 2 student student 43 Sep 19 22:51 nodejs-app
drwxrwxr-x. 2 student student 23 Sep 19 22:51 example
drwxrwxr-x. 5 student student 51 Sep 19 22:51 todoapp
-rw-rw-r--. 1 student student 12 Sep 19 23:20 TEST
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ podman images
REPOSITORY                                        TAG      IMAGE ID       CREATED       SIZE
registry.access.redhat.com/rhscl/httpd-24-rhel7   latest   3157357d731a   3 weeks ago   329 MB
registry.access.redhat.com/rhel                   latest   5de8011b147c   3 weeks ago   216 MB
registry.redhat.io/openshift3/mysql-55-rhel7      latest   ba57c96b99e5   4 years ago   359 MB
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ lab image-operations start

Setting up workstation for the GE: Creating a Custom Apache Container Image

 · Checking podman configuration...............................  SUCCESS
[student@workstation DO180-apps]$ podman login quay.io
Username: soumojit011
Password: 
Login Succeeded!
[student@workstation DO180-apps]$ podman run -d --name official-httpd  -p 8180:80 quay.io/redhattraining/httpd-parent
Trying to pull quay.io/redhattraining/httpd-parent...
Getting image source signatures
Copying blob a3ed95caeb02 done
Copying blob a3ed95caeb02 done
Copying blob a3ed95caeb02 skipped: already exists
Copying blob 6a5240d60dc4 done
Copying blob a3ed95caeb02 done
Copying blob 787f47dbeaac done
Copying blob 08b8c9fdec44 done
Copying blob a3ed95caeb02 skipped: already exists
Copying blob a3ed95caeb02 skipped: already exists
Copying blob 408208567b9a done
Writing manifest to image destination
Storing signatures
f50eae4c41df229d192a559c3032fae1efd91fc20d6406d84407a04733214f9d
[student@workstation DO180-apps]$ podman exec -it official-httpd /bin/bash
bash-4.4# echo "DO180 Page" > /var/www/html/do180.html
bash-4.4# exit
exit
[student@workstation DO180-apps]$ curl 127.0.0.1:8180/do180.html
DO180 Page
[student@workstation DO180-apps]$ podman diff official-httpd
C /root
A /root/.bash_history
C /run/httpd
A /run/httpd/cgisock.1
A /run/httpd/httpd.pid
C /var
C /var/log
C /var/log/httpd
A /var/log/httpd/access_log
A /var/log/httpd/error_log
C /var/www
C /var/www/html
A /var/www/html/do180.html
[student@workstation DO180-apps]$ podman stop official-httpd
f50eae4c41df229d192a559c3032fae1efd91fc20d6406d84407a04733214f9d
[student@workstation DO180-apps]$ podman commit -a 'Your Name' official-httpd do180-custom-httpd
Getting image source signatures
Copying blob 24d85c895b6b skipped: already exists
Copying blob c613b100be16 skipped: already exists
Copying blob 574bcc187eda skipped: already exists
Copying blob 7f9108fde4a1 skipped: already exists
Copying blob 98ace9321464 done
Copying config e7bc8368b3 done
Writing manifest to image destination
Storing signatures
e7bc8368b3fc033d38e2841c1d88e58efd9de08192d4334f1442b4cbfd9a5b05
[student@workstation DO180-apps]$ podman images
REPOSITORY                                        TAG      IMAGE ID       CREATED          SIZE
localhost/do180-custom-httpd                      latest   e7bc8368b3fc   18 seconds ago   236 MB
registry.access.redhat.com/rhscl/httpd-24-rhel7   latest   3157357d731a   3 weeks ago      329 MB
registry.access.redhat.com/rhel                   latest   5de8011b147c   3 weeks ago      216 MB
quay.io/redhattraining/httpd-parent               latest   4346d3cace25   2 years ago      236 MB
registry.redhat.io/openshift3/mysql-55-rhel7      latest   ba57c96b99e5   4 years ago      359 MB
[student@workstation DO180-apps]$ source /usr/local/etc/ocp4.config
[student@workstation DO180-apps]$ podman tag do180-custom-httpd  quay.io/${RHT_OCP4_QUAY_USER}/do180-custom-httpd:v1.0
[student@workstation DO180-apps]$ podman images
REPOSITORY                                        TAG      IMAGE ID       CREATED         SIZE
localhost/do180-custom-httpd                      latest   e7bc8368b3fc   2 minutes ago   236 MB
quay.io/soumojit011/do180-custom-httpd            v1.0     e7bc8368b3fc   2 minutes ago   236 MB
registry.access.redhat.com/rhscl/httpd-24-rhel7   latest   3157357d731a   3 weeks ago     329 MB
registry.access.redhat.com/rhel                   latest   5de8011b147c   3 weeks ago     216 MB
quay.io/redhattraining/httpd-parent               latest   4346d3cace25   2 years ago     236 MB
registry.redhat.io/openshift3/mysql-55-rhel7      latest   ba57c96b99e5   4 years ago     359 MB
[student@workstation DO180-apps]$ podman push  quay.io/${RHT_OCP4_QUAY_USER}/do180-custom-httpd:v1.0
Getting image source signatures
Copying blob 98ace9321464 done
Copying blob c613b100be16 skipped: already exists
Copying blob 574bcc187eda skipped: already exists
Copying blob 24d85c895b6b skipped: already exists
Copying blob 7f9108fde4a1 skipped: already exists
Copying config e7bc8368b3 done
Writing manifest to image destination
Copying config e7bc8368b3 done
Writing manifest to image destination
Writing manifest to image destination
Storing signatures
[student@workstation DO180-apps]$ podman pull  -q quay.io/${RHT_OCP4_QUAY_USER}/do180-custom-httpd:v1.0
66814aa40827a6f747c0962ebfd43f38184066f347abffc4bd29677e8ccaba6c
[student@workstation DO180-apps]$ podman run -d --name test-httpd -p 8280:80  ${RHT_OCP4_QUAY_USER}/do180-custom-httpd:v1.0
8252f85f0e866af0e353379fbdb7f313e1b1518290b167d17345e7b24171ab85
[student@workstation DO180-apps]$ curl http://localhost:8280/do180.html
DO180 Page
[student@workstation DO180-apps]$ lab image-operations finish

Completing the GE: Creating a Custom Apache Container Image

 · Stopping official-httpd container...........................  SUCCESS
 · Removing official-httpd container...........................  SUCCESS
 · Stopping test-httpd container...............................  SUCCESS
 · Removing test-httpd container...............................  SUCCESS
 · Removing redhattraining/httpd-parent image..................  SUCCESS
 · Removing quay.io/soumojit011/do180-custom-httpd image.......  SUCCESS
 · Removing localhost/do180-custom-httpd image.................  SUCCESS
[student@workstation DO180-apps]$ lab image-review start

Setting up workstation for the Lab: Managing Images

 · Checking podman configuration...............................  SUCCESS
[student@workstation DO180-apps]$ podman pull quay.io/redhattraining/nginx:1.17
Trying to pull quay.io/redhattraining/nginx:1.17...
Getting image source signatures
Copying blob d1a81ca518e2 done
Copying blob b00ee4473ca6 done
Copying blob c78335199707 done
Copying config 9beeba249f done
Writing manifest to image destination
Storing signatures
9beeba249f3ee158d3e495a6ac25c5667ae2de8a43ac2a8bfd2bf687a58c06c9
[student@workstation DO180-apps]$ podman images
REPOSITORY                                        TAG      IMAGE ID       CREATED         SIZE
registry.access.redhat.com/rhscl/httpd-24-rhel7   latest   3157357d731a   3 weeks ago     329 MB
registry.access.redhat.com/rhel                   latest   5de8011b147c   3 weeks ago     216 MB
quay.io/redhattraining/nginx                      1.17     9beeba249f3e   16 months ago   131 MB
registry.redhat.io/openshift3/mysql-55-rhel7      latest   ba57c96b99e5   4 years ago     359 MB
[student@workstation DO180-apps]$ podman run --name official-nginx  -d -p 8080:80 quay.io/redhattraining/nginx:1.17
5b8967fbe45ebd89e49ef90d8424f0a2f187a0b1e47294b0f7ebc38ccd64e6bc
[student@workstation DO180-apps]$ podman exec -it official-nginx /bin/bash
root@5b8967fbe45e:/# echo 'DO180' > /usr/share/nginx/html/index.html
root@5b8967fbe45e:/# exit
exit
[student@workstation DO180-apps]$ curl 127.0.0.1:8080
DO180
[student@workstation DO180-apps]$ podman stop official-nginx
5b8967fbe45ebd89e49ef90d8424f0a2f187a0b1e47294b0f7ebc38ccd64e6bc
[student@workstation DO180-apps]$ podman commit -a 'Your Name'  official-nginx do180/mynginx:v1.0-SNAPSHOT
Getting image source signatures
Copying blob ffc9b21953f4 skipped: already exists
Copying blob 2f4accd375d9 skipped: already exists
Copying blob 6c7de695ede3 skipped: already exists
Copying blob e852683649ce done
Copying config dca5fa8e29 done
Writing manifest to image destination
Storing signatures
dca5fa8e29f97db903f6bd7c99927c659d222651fb34d48cf05272dc0fcefd65
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ podman images
REPOSITORY                                        TAG             IMAGE ID       CREATED          SIZE
localhost/do180/mynginx                           v1.0-SNAPSHOT   dca5fa8e29f9   25 seconds ago   131 MB
registry.access.redhat.com/rhscl/httpd-24-rhel7   latest          3157357d731a   3 weeks ago      329 MB
registry.access.redhat.com/rhel                   latest          5de8011b147c   3 weeks ago      216 MB
quay.io/redhattraining/nginx                      1.17            9beeba249f3e   16 months ago    131 MB
registry.redhat.io/openshift3/mysql-55-rhel7      latest          ba57c96b99e5   4 years ago      359 MB
[student@workstation DO180-apps]$ podman run --name official-nginx-dev  -d -p 8080:80 do180/mynginx:v1.0-SNAPSHOT
8eb2125b2467bfcffc3338a8bfdd4f5833a60bde85f7e8b6f382f9fde9a4a5ea
[student@workstation DO180-apps]$ podman exec -it official-nginx-dev /bin/bash
root@8eb2125b2467:/# echo 'DO180 Page' > /usr/share/nginx/html/index.html
root@8eb2125b2467:/# exit
exit
[student@workstation DO180-apps]$ curl 127.0.0.1:8080
DO180 Page
[student@workstation DO180-apps]$ podman stop official-nginx-dev
8eb2125b2467bfcffc3338a8bfdd4f5833a60bde85f7e8b6f382f9fde9a4a5ea
[student@workstation DO180-apps]$ podman commit -a 'Your Name'  official-nginx-dev do180/mynginx:v1.0
Getting image source signatures
Copying blob ffc9b21953f4 skipped: already exists
Copying blob 2f4accd375d9 skipped: already exists
Copying blob 6c7de695ede3 skipped: already exists
Copying blob e852683649ce skipped: already exists
Copying blob 5bf394349319 done
Copying config 2a726838d4 done
Writing manifest to image destination
Storing signatures
2a726838d4e34e492db3d94b5148e3bf940342b84398aaa8a0099ce27d81eb3d
[student@workstation DO180-apps]$ podman images
REPOSITORY                                        TAG             IMAGE ID       CREATED         SIZE
localhost/do180/mynginx                           v1.0            2a726838d4e3   2 minutes ago   131 MB
localhost/do180/mynginx                           v1.0-SNAPSHOT   dca5fa8e29f9   5 minutes ago   131 MB
registry.access.redhat.com/rhscl/httpd-24-rhel7   latest          3157357d731a   3 weeks ago     329 MB
registry.access.redhat.com/rhel                   latest          5de8011b147c   3 weeks ago     216 MB
quay.io/redhattraining/nginx                      1.17            9beeba249f3e   16 months ago   131 MB
registry.redhat.io/openshift3/mysql-55-rhel7      latest          ba57c96b99e5   4 years ago     359 MB
[student@workstation DO180-apps]$ podman ps -a  --format="{{.ID}} {{.Names}} {{.Status}}"
8eb2125b2467 official-nginx-dev Exited (0) 3 minutes ago
5b8967fbe45e official-nginx Exited (0) 7 minutes ago
d2d15382328c myweb Up 21 hours ago
[student@workstation DO180-apps]$ podman rm official-nginx-dev
8eb2125b2467bfcffc3338a8bfdd4f5833a60bde85f7e8b6f382f9fde9a4a5ea
[student@workstation DO180-apps]$ podman ps -a  --format="{{.ID}} {{.Names}} {{.Status}}"
5b8967fbe45e official-nginx Exited (0) 8 minutes ago
d2d15382328c myweb Up 21 hours ago
[student@workstation DO180-apps]$ podman rmi do180/mynginx:v1.0-SNAPSHOT
Untagged: localhost/do180/mynginx:v1.0-SNAPSHOT
[student@workstation DO180-apps]$ podman images
REPOSITORY                                        TAG      IMAGE ID       CREATED         SIZE
localhost/do180/mynginx                           v1.0     2a726838d4e3   4 minutes ago   131 MB
registry.access.redhat.com/rhscl/httpd-24-rhel7   latest   3157357d731a   3 weeks ago     329 MB
registry.access.redhat.com/rhel                   latest   5de8011b147c   3 weeks ago     216 MB
quay.io/redhattraining/nginx                      1.17     9beeba249f3e   16 months ago   131 MB
registry.redhat.io/openshift3/mysql-55-rhel7      latest   ba57c96b99e5   4 years ago     359 MB
[student@workstation DO180-apps]$ podman run -d --name my-nginx  -p 8280:80 do180/mynginx:v1.0
af1ff57327dd46c9657790e00f160b4ba7f4a40b0021255387ff2059104f138f
[student@workstation DO180-apps]$ curl 127.0.0.1:8280
DO180 Page
[student@workstation DO180-apps]$ lab image-review grade

Grading the student's work for the Lab: Managing Images

 · Nginx container image is pulled.............................  PASS
 · Container official-nginx is created.........................  PASS
 · Container official-nginx is stopped.........................  PASS
 · Tag do180/mynginx:v1.0-SNAPSHOT is removed..................  PASS
 · Tag do180/mynginx:v1.0 is created...........................  PASS
 · Container my-nginx is created and running...................  PASS
 · index.html is available with the custom content.............  PASS
[student@workstation DO180-apps]$ lab image-review finish

Completing the Lab: Managing Images

 · Stopping official-nginx-dev container.......................  SUCCESS
 · Removing official-nginx-dev container.......................  SUCCESS
 · Stopping official-nginx container...........................  SUCCESS
 · Removing official-nginx container...........................  SUCCESS
 · Removing do180/mynginx:v1.0 image...........................  SUCCESS
 · Removing quay.io/redhattraining/nginx:1.17 image............  SUCCESS
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ lab dockerfile-create start

Setting up workstation for the Guided Exercise: Building a basic Apache Container Image

 · Checking podman configuration...............................  SUCCESS
 · Downloading starter project.................................  SUCCESS
 · Downloading solution project................................  SUCCESS

Setup successful. Please proceed with the exercise.

[student@workstation DO180-apps]$ vim /home/student/DO180/labs/dockerfile-create/Containerfile
[student@workstation DO180-apps]$ cd /home/student/DO180/labs/dockerfile-create
[student@workstation dockerfile-create]$ odman build --layers=false  -t do180/apache .
bash: odman: command not found...
[student@workstation dockerfile-create]$ podman build --layers=false  -t do180/apache .
STEP 1: FROM ubi8/ubi:8.3
Getting image source signatures
Copying blob 55eda7743468 done
Copying blob 4b21dcdd136d done
Copying config 613e5da7a9 done
Writing manifest to image destination
Storing signatures
STEP 2: MAINTAINER soumojit soumojit.mukhopadhyay@capgemini.com
STEP 3: LABEL description="A custom Apache container based on UBI 8"
STEP 4: RUN yum install -y httpd &&     yum clean all
Updating Subscription Management repositories.
Unable to read consumer identity

This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.

Red Hat Universal Base Image 8 (RPMs) - BaseOS  1.3 MB/s | 787 kB     00:00    
Red Hat Universal Base Image 8 (RPMs) - AppStre  19 MB/s | 2.4 MB     00:00    
Red Hat Universal Base Image 8 (RPMs) - CodeRea 133 kB/s |  15 kB     00:00    
Dependencies resolved.
===========================================================================================
 Package              Arch    Version                                Repository        Size
===========================================================================================
Installing:
 httpd                x86_64  2.4.37-39.module+el8.4.0+9658+b87b2deb ubi-8-appstream  1.4 M
Installing dependencies:
 apr                  x86_64  1.6.3-11.el8                           ubi-8-appstream  125 k
 apr-util             x86_64  1.6.1-6.el8                            ubi-8-appstream  105 k
 httpd-filesystem     noarch  2.4.37-39.module+el8.4.0+9658+b87b2deb ubi-8-appstream   38 k
 httpd-tools          x86_64  2.4.37-39.module+el8.4.0+9658+b87b2deb ubi-8-appstream  106 k
 mailcap              noarch  2.1.48-3.el8                           ubi-8-baseos      39 k
 mod_http2            x86_64  1.15.7-3.module+el8.4.0+8625+d397f3da  ubi-8-appstream  154 k
 redhat-logos-httpd   noarch  84.4-1.el8                             ubi-8-baseos      29 k
Installing weak dependencies:
 apr-util-bdb         x86_64  1.6.1-6.el8                            ubi-8-appstream   25 k
 apr-util-openssl     x86_64  1.6.1-6.el8                            ubi-8-appstream   27 k
Enabling module streams:
 httpd                        2.4                                                          

Transaction Summary
===========================================================================================
Install  10 Packages

Total download size: 2.0 M
Installed size: 5.4 M
Downloading Packages:
(1/10): redhat-logos-httpd-84.4-1.el8.noarch.rp 256 kB/s |  29 kB     00:00    
(2/10): httpd-filesystem-2.4.37-39.module+el8.4 327 kB/s |  38 kB     00:00    
(3/10): mailcap-2.1.48-3.el8.noarch.rpm         322 kB/s |  39 kB     00:00    
(4/10): mod_http2-1.15.7-3.module+el8.4.0+8625+ 6.5 MB/s | 154 kB     00:00    
(5/10): apr-util-1.6.1-6.el8.x86_64.rpm         5.2 MB/s | 105 kB     00:00    
(6/10): apr-util-openssl-1.6.1-6.el8.x86_64.rpm 1.9 MB/s |  27 kB     00:00    
(7/10): httpd-tools-2.4.37-39.module+el8.4.0+96 5.5 MB/s | 106 kB     00:00    
(8/10): apr-1.6.3-11.el8.x86_64.rpm              19 MB/s | 125 kB     00:00    
(9/10): apr-util-bdb-1.6.1-6.el8.x86_64.rpm     5.0 MB/s |  25 kB     00:00    
(10/10): httpd-2.4.37-39.module+el8.4.0+9658+b8  21 MB/s | 1.4 MB     00:00    
--------------------------------------------------------------------------------
Total                                            11 MB/s | 2.0 MB     00:00     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Installing       : apr-1.6.3-11.el8.x86_64                               1/10 
  Running scriptlet: apr-1.6.3-11.el8.x86_64                               1/10 
  Installing       : apr-util-openssl-1.6.1-6.el8.x86_64                   2/10 
  Installing       : apr-util-bdb-1.6.1-6.el8.x86_64                       3/10 
  Installing       : apr-util-1.6.1-6.el8.x86_64                           4/10 
  Running scriptlet: apr-util-1.6.1-6.el8.x86_64                           4/10 
  Installing       : httpd-tools-2.4.37-39.module+el8.4.0+9658+b87b2deb    5/10 
  Running scriptlet: httpd-filesystem-2.4.37-39.module+el8.4.0+9658+b87    6/10 
  Installing       : httpd-filesystem-2.4.37-39.module+el8.4.0+9658+b87    6/10 
  Installing       : mailcap-2.1.48-3.el8.noarch                           7/10 
  Installing       : redhat-logos-httpd-84.4-1.el8.noarch                  8/10 
  Installing       : mod_http2-1.15.7-3.module+el8.4.0+8625+d397f3da.x8    9/10 
  Installing       : httpd-2.4.37-39.module+el8.4.0+9658+b87b2deb.x86_6   10/10 
  Running scriptlet: httpd-2.4.37-39.module+el8.4.0+9658+b87b2deb.x86_6   10/10 
  Verifying        : redhat-logos-httpd-84.4-1.el8.noarch                  1/10 
  Verifying        : mailcap-2.1.48-3.el8.noarch                           2/10 
  Verifying        : httpd-filesystem-2.4.37-39.module+el8.4.0+9658+b87    3/10 
  Verifying        : httpd-2.4.37-39.module+el8.4.0+9658+b87b2deb.x86_6    4/10 
  Verifying        : mod_http2-1.15.7-3.module+el8.4.0+8625+d397f3da.x8    5/10 
  Verifying        : apr-util-1.6.1-6.el8.x86_64                           6/10 
  Verifying        : httpd-tools-2.4.37-39.module+el8.4.0+9658+b87b2deb    7/10 
  Verifying        : apr-util-openssl-1.6.1-6.el8.x86_64                   8/10 
  Verifying        : apr-1.6.3-11.el8.x86_64                               9/10 
  Verifying        : apr-util-bdb-1.6.1-6.el8.x86_64                      10/10 
Installed products updated.

Installed:
  apr-1.6.3-11.el8.x86_64                                                       
  apr-util-1.6.1-6.el8.x86_64                                                   
  apr-util-bdb-1.6.1-6.el8.x86_64                                               
  apr-util-openssl-1.6.1-6.el8.x86_64                                           
  httpd-2.4.37-39.module+el8.4.0+9658+b87b2deb.x86_64                           
  httpd-filesystem-2.4.37-39.module+el8.4.0+9658+b87b2deb.noarch                
  httpd-tools-2.4.37-39.module+el8.4.0+9658+b87b2deb.x86_64                     
  mailcap-2.1.48-3.el8.noarch                                                   
  mod_http2-1.15.7-3.module+el8.4.0+8625+d397f3da.x86_64                        
  redhat-logos-httpd-84.4-1.el8.noarch                                          

Complete!
Updating Subscription Management repositories.
Unable to read consumer identity

This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.

25 files removed
STEP 5: RUN echo "Hello from Containerfile" > /var/www/html/index.html
STEP 6: EXPOSE 80
STEP 7: CMD ["httpd", "-D", "FOREGROUND"]
STEP 8: COMMIT do180/apache
Getting image source signatures
Copying blob 476579af086a skipped: already exists
Copying blob 1e8cd6732429 skipped: already exists
Copying blob 49fadb2e139d done
Copying config 5940439664 done
Writing manifest to image destination
Storing signatures
5940439664c05ca8452dd1172f6a5f65058b678dfe02a00950807486a445c73f
[student@workstation dockerfile-create]$ podman images
REPOSITORY                                        TAG      IMAGE ID       CREATED          SIZE
localhost/do180/apache                            latest   5940439664c0   11 seconds ago   234 MB
registry.access.redhat.com/rhscl/httpd-24-rhel7   latest   3157357d731a   3 weeks ago      329 MB
registry.access.redhat.com/rhel                   latest   5de8011b147c   3 weeks ago      216 MB
registry.access.redhat.com/ubi8/ubi               8.3      613e5da7a934   5 months ago     213 MB
registry.redhat.io/openshift3/mysql-55-rhel7      latest   ba57c96b99e5   4 years ago      359 MB
[student@workstation dockerfile-create]$ podman run --name lab-apache  -d -p 10080:80 do180/apache
763e65d0ffea65c647cafc44b995b283c373f0f7b8d0410a803e2a10c8c76995
[student@workstation dockerfile-create]$ podman ps
CONTAINER ID  IMAGE                                                   COMMAND               CREATED         STATUS             PORTS                    NAMES
763e65d0ffea  localhost/do180/apache:latest                           httpd -D FOREGROU...  23 seconds ago  Up 23 seconds ago  0.0.0.0:10080->80/tcp    lab-apache
d2d15382328c  registry.access.redhat.com/rhscl/httpd-24-rhel7:latest  /usr/bin/run-http...  23 hours ago    Up 23 hours ago    0.0.0.0:36105->8080/tcp  myweb
[student@workstation dockerfile-create]$ curl 127.0.0.1:10080
Hello from Containerfile
[student@workstation dockerfile-create]$ lab dockerfile-create finish

Completing the Guided Exercise: Building a basic Apache Container Image

 · Stopping lab-apache container that is running...............  SUCCESS
 · Removing lab-apache container that is in the cache..........  SUCCESS
 · Removing do180/apache custom container image................  SUCCESS
 · Removing UBI8 container image...............................  SUCCESS
[student@workstation dockerfile-create]$ 
[student@workstation dockerfile-create]$ lab dockerfile-review start

Setting up workstation for the Lab: Creating Custom Container Images

 · Checking podman configuration...............................  SUCCESS
 · Checking if the container exists or is running..............  SUCCESS
 · Downloading starter project.................................  SUCCESS
 · Downloading solution project................................  SUCCESS

Setup successful. Please proceed with the exercise.

[student@workstation dockerfile-create]$ httpd -D FOREGROUND
(13)Permission denied: AH00058: Error retrieving pid file run/httpd.pid
AH00059: Remove it before continuing if it is corrupted.
[student@workstation dockerfile-create]$ cd /home/student/DO180/labs/dockerfile-review/
[student@workstation dockerfile-review]$ vim Containerfile
[student@workstation dockerfile-review]$ podman build --layers=false  -t do180/custom-apache .
STEP 1: FROM ubi8/ubi:8.3
Getting image source signatures
Copying blob 4b21dcdd136d done
Copying blob 55eda7743468 done
Copying config 613e5da7a9 done
Writing manifest to image destination
Storing signatures
STEP 2: MAINTAINER soumojit soumojit.mukhopadhyay@aricent.com
STEP 3: ENV PORT 8080
STEP 4: RUN yum install -y httpd &&     yum clean all
Updating Subscription Management repositories.
Unable to read consumer identity

This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.

Red Hat Universal Base Image 8 (RPMs) - BaseOS  1.3 MB/s | 786 kB     00:00    
Red Hat Universal Base Image 8 (RPMs) - AppStre  17 MB/s | 2.4 MB     00:00    
Red Hat Universal Base Image 8 (RPMs) - CodeRea  19 kB/s |  15 kB     00:00    
Dependencies resolved.
===========================================================================================
 Package              Arch    Version                                Repository        Size
===========================================================================================
Installing:
 httpd                x86_64  2.4.37-39.module+el8.4.0+9658+b87b2deb ubi-8-appstream  1.4 M
Installing dependencies:
 apr                  x86_64  1.6.3-11.el8                           ubi-8-appstream  125 k
 apr-util             x86_64  1.6.1-6.el8                            ubi-8-appstream  105 k
 httpd-filesystem     noarch  2.4.37-39.module+el8.4.0+9658+b87b2deb ubi-8-appstream   38 k
 httpd-tools          x86_64  2.4.37-39.module+el8.4.0+9658+b87b2deb ubi-8-appstream  106 k
 mailcap              noarch  2.1.48-3.el8                           ubi-8-baseos      39 k
 mod_http2            x86_64  1.15.7-3.module+el8.4.0+8625+d397f3da  ubi-8-appstream  154 k
 redhat-logos-httpd   noarch  84.4-1.el8                             ubi-8-baseos      29 k
Installing weak dependencies:
 apr-util-bdb         x86_64  1.6.1-6.el8                            ubi-8-appstream   25 k
 apr-util-openssl     x86_64  1.6.1-6.el8                            ubi-8-appstream   27 k
Enabling module streams:
 httpd                        2.4                                                          

Transaction Summary
===========================================================================================
Install  10 Packages

Total download size: 2.0 M
Installed size: 5.4 M
Downloading Packages:
(1/10): mailcap-2.1.48-3.el8.noarch.rpm         643 kB/s |  39 kB     00:00    
(2/10): httpd-filesystem-2.4.37-39.module+el8.4 631 kB/s |  38 kB     00:00    
(3/10): redhat-logos-httpd-84.4-1.el8.noarch.rp 436 kB/s |  29 kB     00:00    
(4/10): mod_http2-1.15.7-3.module+el8.4.0+8625+  18 MB/s | 154 kB     00:00    
(5/10): apr-util-1.6.1-6.el8.x86_64.rpm          14 MB/s | 105 kB     00:00    
(6/10): apr-util-openssl-1.6.1-6.el8.x86_64.rpm 4.9 MB/s |  27 kB     00:00    
(7/10): httpd-tools-2.4.37-39.module+el8.4.0+96 1.4 MB/s | 106 kB     00:00    
(8/10): apr-1.6.3-11.el8.x86_64.rpm              16 MB/s | 125 kB     00:00    
(9/10): apr-util-bdb-1.6.1-6.el8.x86_64.rpm     7.0 MB/s |  25 kB     00:00    
(10/10): httpd-2.4.37-39.module+el8.4.0+9658+b8  14 MB/s | 1.4 MB     00:00    
--------------------------------------------------------------------------------
Total                                            12 MB/s | 2.0 MB     00:00     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Installing       : apr-1.6.3-11.el8.x86_64                               1/10 
  Running scriptlet: apr-1.6.3-11.el8.x86_64                               1/10 
  Installing       : apr-util-openssl-1.6.1-6.el8.x86_64                   2/10 
  Installing       : apr-util-bdb-1.6.1-6.el8.x86_64                       3/10 
  Installing       : apr-util-1.6.1-6.el8.x86_64                           4/10 
  Running scriptlet: apr-util-1.6.1-6.el8.x86_64                           4/10 
  Installing       : httpd-tools-2.4.37-39.module+el8.4.0+9658+b87b2deb    5/10 
  Running scriptlet: httpd-filesystem-2.4.37-39.module+el8.4.0+9658+b87    6/10 
  Installing       : httpd-filesystem-2.4.37-39.module+el8.4.0+9658+b87    6/10 
  Installing       : mailcap-2.1.48-3.el8.noarch                           7/10 
  Installing       : redhat-logos-httpd-84.4-1.el8.noarch                  8/10 
  Installing       : mod_http2-1.15.7-3.module+el8.4.0+8625+d397f3da.x8    9/10 
  Installing       : httpd-2.4.37-39.module+el8.4.0+9658+b87b2deb.x86_6   10/10 
  Running scriptlet: httpd-2.4.37-39.module+el8.4.0+9658+b87b2deb.x86_6   10/10 
  Verifying        : redhat-logos-httpd-84.4-1.el8.noarch                  1/10 
  Verifying        : mailcap-2.1.48-3.el8.noarch                           2/10 
  Verifying        : httpd-filesystem-2.4.37-39.module+el8.4.0+9658+b87    3/10 
  Verifying        : httpd-2.4.37-39.module+el8.4.0+9658+b87b2deb.x86_6    4/10 
  Verifying        : mod_http2-1.15.7-3.module+el8.4.0+8625+d397f3da.x8    5/10 
  Verifying        : apr-util-1.6.1-6.el8.x86_64                           6/10 
  Verifying        : httpd-tools-2.4.37-39.module+el8.4.0+9658+b87b2deb    7/10 
  Verifying        : apr-util-openssl-1.6.1-6.el8.x86_64                   8/10 
  Verifying        : apr-1.6.3-11.el8.x86_64                               9/10 
  Verifying        : apr-util-bdb-1.6.1-6.el8.x86_64                      10/10 
Installed products updated.

Installed:
  apr-1.6.3-11.el8.x86_64                                                       
  apr-util-1.6.1-6.el8.x86_64                                                   
  apr-util-bdb-1.6.1-6.el8.x86_64                                               
  apr-util-openssl-1.6.1-6.el8.x86_64                                           
  httpd-2.4.37-39.module+el8.4.0+9658+b87b2deb.x86_64                           
  httpd-filesystem-2.4.37-39.module+el8.4.0+9658+b87b2deb.noarch                
  httpd-tools-2.4.37-39.module+el8.4.0+9658+b87b2deb.x86_64                     
  mailcap-2.1.48-3.el8.noarch                                                   
  mod_http2-1.15.7-3.module+el8.4.0+8625+d397f3da.x86_64                        
  redhat-logos-httpd-84.4-1.el8.noarch                                          

Complete!
Updating Subscription Management repositories.
Unable to read consumer identity

This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.

25 files removed
STEP 5: RUN sed -ri -e "/^Listen 80/c\Listen ${PORT}" /etc/httpd/conf/httpd.conf &&     chown -R apache:apache /etc/httpd/logs/ &&     chown -R apache:apache /run/httpd/
STEP 6: USER apache
STEP 7: EXPOSE ${PORT}
STEP 8: COPY ./src/ /var/www/html/
STEP 9: CMD ["httpd", "-D", "FOREGROUND"]
STEP 10: COMMIT do180/custom-apache
Getting image source signatures
Copying blob 476579af086a skipped: already exists
Copying blob 1e8cd6732429 skipped: already exists
Copying blob f10133d3f266 done
Copying config c100116d68 done
Writing manifest to image destination
Storing signatures
c100116d68d8a33d7197ffd4a299f4edfcdc9429c88afc4d0d51bb5d98b19aa7
[student@workstation dockerfile-review]$ podman images
REPOSITORY                                        TAG      IMAGE ID       CREATED          SIZE
localhost/do180/custom-apache                     latest   c100116d68d8   17 seconds ago   234 MB
registry.access.redhat.com/rhscl/httpd-24-rhel7   latest   3157357d731a   3 weeks ago      329 MB
registry.access.redhat.com/rhel                   latest   5de8011b147c   4 weeks ago      216 MB
registry.access.redhat.com/ubi8/ubi               8.3      613e5da7a934   5 months ago     213 MB
registry.redhat.io/openshift3/mysql-55-rhel7      latest   ba57c96b99e5   4 years ago      359 MB
[student@workstation dockerfile-review]$ podman run -d  --name containerfile -p 20080:8080 do180/custom-apache
3af60436f46d4751f1fec24fd5c59432404e8a41b3be0ee06ca04dbc7436d40d
[student@workstation dockerfile-review]$ podman ps
CONTAINER ID  IMAGE                                                   COMMAND               CREATED         STATUS             PORTS                    NAMES
3af60436f46d  localhost/do180/custom-apache:latest                    httpd -D FOREGROU...  26 seconds ago  Up 26 seconds ago  0.0.0.0:20080->8080/tcp  containerfile
d2d15382328c  registry.access.redhat.com/rhscl/httpd-24-rhel7:latest  /usr/bin/run-http...  32 hours ago    Up 32 hours ago    0.0.0.0:36105->8080/tcp  myweb
[student@workstation dockerfile-review]$ curl 127.0.0.1:20080
<html>
 <header><title>DO180 Hello!</title></header>
 <body>
   Hello World! The containerfile-review lab works!
 </body>
</html>
[student@workstation dockerfile-review]$ lab dockerfile-review grade

Grading the student's work for Lab: Creating Custom Container Images

 · Check for apache container image............................  PASS
 · Check if the container is running...........................  PASS
 · Verifying if httpd was installed correctly in apache image..  PASS
 · Verifying if hello world is running on server...............  PASS

[student@workstation dockerfile-review]$ lab dockerfile-review finish

Completing the Lab: Creating Custom Container Images

 · Stopping grade container....................................  SUCCESS
 · Removing grade container....................................  SUCCESS
 · Stopping running container..................................  SUCCESS
 · Removing the container......................................  SUCCESS
 · Removing do180/custom-apache container image................  SUCCESS
 · Removing ubi8 container image...............................  SUCCESS

[student@workstation dockerfile-review]$ 
[student@workstation dockerfile-review]$ 
[student@workstation dockerfile-review]$ lab openshift-resources start

Setting up workstation for the Guided Exercise: Deploying a Database Server on OpenShift

 Verifying the OpenShift cluster is running:
 · Log in on OpenShift.........................................  SUCCESS
 · Check the internal registry is up and running...............  SUCCESS
 · Ensuring the 'developer-mysql-openshift' project is absent..  SUCCESS
[student@workstation dockerfile-review]$ source /usr/local/etc/ocp4.config
[student@workstation dockerfile-review]$ oc login -u ${RHT_OCP4_DEV_USER} -p  ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>

[student@workstation dockerfile-review]$ oc new-project ${RHT_OCP4_DEV_USER}-mysql-openshift
Now using project "developer-mysql-openshift" on server "https://api.ocp4.example.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app rails-postgresql-example

to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=k8s.gcr.io/serve_hostname

[student@workstation dockerfile-review]$ oc new-app  --template=mysql-persistent  -p MYSQL_USER=user1 -p MYSQL_PASSWORD=mypa55 -p MYSQL_DATABASE=testdb  -p MYSQL_ROOT_PASSWORD=r00tpa55 -p VOLUME_CAPACITY=10Gi
--> Deploying template "openshift/mysql-persistent" to project developer-mysql-openshift

     MySQL
     ---------
     MySQL database service, with persistent storage. For more information about using this template, including OpenShift considerations, see https://github.com/sclorg/mysql-container/blob/master/8.0/root/usr/share/container-scripts/mysql/README.md.
     
     NOTE: Scaling to more than one replica is not supported. You must have persistent volumes available in your cluster to use this template.

     The following service(s) have been created in your project: mysql.
     
            Username: user1
            Password: mypa55
       Database Name: testdb
      Connection URL: mysql://mysql:3306/
     
     For more information about using this template, including OpenShift considerations, see https://github.com/sclorg/mysql-container/blob/master/8.0/root/usr/share/container-scripts/mysql/README.md.

     * With parameters:
        * Memory Limit=512Mi
        * Namespace=openshift
        * Database Service Name=mysql
        * MySQL Connection Username=user1
        * MySQL Connection Password=mypa55
        * MySQL root user Password=r00tpa55
        * MySQL Database Name=testdb
        * Volume Capacity=10Gi
        * Version of MySQL Image=8.0-el8

--> Creating resources ...
    secret "mysql" created
    service "mysql" created
    persistentvolumeclaim "mysql" created
    deploymentconfig.apps.openshift.io "mysql" created
--> Success
    Application is not exposed. You can expose services to the outside world by executing one or more of the commands below:
     'oc expose service/mysql' 
    Run 'oc status' to view your app.
[student@workstation dockerfile-review]$ oc status
In project developer-mysql-openshift on server https://api.ocp4.example.com:6443

svc/mysql - 172.30.118.19:3306
  dc/mysql deploys openshift/mysql:8.0-el8 
    deployment #1 running for 29 seconds - 0/1 pods

View details with 'oc describe <resource>/<name>' or list resources with 'oc get all'.
[student@workstation dockerfile-review]$ oc get pods
NAME             READY   STATUS      RESTARTS   AGE
mysql-1-57swf    1/1     Running     0          74s
mysql-1-deploy   0/1     Completed   0          78s
[student@workstation dockerfile-review]$ oc describe pod mysql-1-57swf
Name:         mysql-1-57swf
Namespace:    developer-mysql-openshift
Priority:     0
Node:         master03/192.168.50.12
Start Time:   Wed, 22 Sep 2021 04:47:09 -0400
Labels:       deployment=mysql-1
              deploymentconfig=mysql
              name=mysql
Annotations:  k8s.v1.cni.cncf.io/network-status:
                [{
                    "name": "",
                    "interface": "eth0",
                    "ips": [
                        "10.10.0.27"
                    ],
                    "default": true,
                    "dns": {}
                }]
              k8s.v1.cni.cncf.io/networks-status:
                [{
                    "name": "",
                    "interface": "eth0",
                    "ips": [
                        "10.10.0.27"
                    ],
                    "default": true,
                    "dns": {}
                }]
              openshift.io/deployment-config.latest-version: 1
              openshift.io/deployment-config.name: mysql
              openshift.io/deployment.name: mysql-1
              openshift.io/generated-by: OpenShiftNewApp
              openshift.io/scc: restricted
Status:       Running
IP:           10.10.0.27
IPs:
  IP:           10.10.0.27
Controlled By:  ReplicationController/mysql-1
Containers:
  mysql:
    Container ID:   cri-o://e17b35843b89ed37cd0f23568d062affc4d5958c8b5cf8250b8706033ae0ecb7
    Image:          image-registry.openshift-image-registry.svc:5000/openshift/mysql@sha256:ae4124a5afb239616b2612ea08be98ae61baa603e880bb180dc50cc647141fbc
    Image ID:       image-registry.openshift-image-registry.svc:5000/openshift/mysql@sha256:ae4124a5afb239616b2612ea08be98ae61baa603e880bb180dc50cc647141fbc
    Port:           3306/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Wed, 22 Sep 2021 04:47:13 -0400
    Ready:          True
    Restart Count:  0
    Limits:
      memory:  512Mi
    Requests:
      memory:   512Mi
    Liveness:   exec [/bin/sh -i -c MYSQL_PWD="$MYSQL_PASSWORD" mysqladmin -u $MYSQL_USER ping] delay=30s timeout=1s period=10s #success=1 #failure=3
    Readiness:  exec [/bin/sh -i -c MYSQL_PWD="$MYSQL_PASSWORD" mysqladmin -u $MYSQL_USER ping] delay=5s timeout=1s period=10s #success=1 #failure=3
    Environment:
      MYSQL_USER:           <set to the key 'database-user' in secret 'mysql'>           Optional: false
      MYSQL_PASSWORD:       <set to the key 'database-password' in secret 'mysql'>       Optional: false
      MYSQL_ROOT_PASSWORD:  <set to the key 'database-root-password' in secret 'mysql'>  Optional: false
      MYSQL_DATABASE:       <set to the key 'database-name' in secret 'mysql'>           Optional: false
    Mounts:
      /var/lib/mysql/data from mysql-data (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-mxr55 (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  mysql-data:
    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)
    ClaimName:  mysql
    ReadOnly:   false
  default-token-mxr55:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-mxr55
    Optional:    false
QoS Class:       Burstable
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/memory-pressure:NoSchedule op=Exists
                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                 node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type     Reason          Age    From               Message
  ----     ------          ----   ----               -------
  Normal   Scheduled       2m27s  default-scheduler  Successfully assigned developer-mysql-openshift/mysql-1-57swf to master03
  Normal   AddedInterface  2m23s  multus             Add eth0 [10.10.0.27/23]
  Normal   Pulled          2m23s  kubelet            Container image "image-registry.openshift-image-registry.svc:5000/openshift/mysql@sha256:ae4124a5afb239616b2612ea08be98ae61baa603e880bb180dc50cc647141fbc" already present on machine
  Normal   Created         2m23s  kubelet            Created container mysql
  Normal   Started         2m23s  kubelet            Started container mysql
  Warning  Unhealthy       2m9s   kubelet            Readiness probe failed: sh: cannot set terminal process group (-1): Inappropriate ioctl for device
sh: no job control in this shell
mysqladmin: connect to server at 'localhost' failed
error: 'Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)'
Check that mysqld is running and that the socket: '/var/lib/mysql/mysql.sock' exists!
[student@workstation dockerfile-review]$ oc get svc
NAME    TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
mysql   ClusterIP   172.30.118.19   <none>        3306/TCP   3m2s
[student@workstation dockerfile-review]$ oc describe service mysql
Name:              mysql
Namespace:         developer-mysql-openshift
Labels:            app=mysql-persistent
                   app.kubernetes.io/component=mysql-persistent
                   app.kubernetes.io/instance=mysql-persistent
                   template=mysql-persistent-template
Annotations:       openshift.io/generated-by: OpenShiftNewApp
                   template.openshift.io/expose-uri: mysql://{.spec.clusterIP}:{.spec.ports[?(.name=="mysql")].port}
Selector:          name=mysql
Type:              ClusterIP
IP:                172.30.118.19
Port:              mysql  3306/TCP
TargetPort:        3306/TCP
Endpoints:         10.10.0.27:3306
Session Affinity:  None
Events:            <none>
[student@workstation dockerfile-review]$ oc get pvc
NAME    STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
mysql   Bound    pvc-4a7b2fa3-28d0-473b-93e8-da0215a791c6   10Gi       RWO            nfs-storage    3m28s
[student@workstation dockerfile-review]$ oc describe pvc/mysql
Name:          mysql
Namespace:     developer-mysql-openshift
StorageClass:  nfs-storage
Status:        Bound
Volume:        pvc-4a7b2fa3-28d0-473b-93e8-da0215a791c6
Labels:        app=mysql-persistent
               app.kubernetes.io/component=mysql-persistent
               app.kubernetes.io/instance=mysql-persistent
               template=mysql-persistent-template
Annotations:   openshift.io/generated-by: OpenShiftNewApp
               pv.kubernetes.io/bind-completed: yes
               pv.kubernetes.io/bound-by-controller: yes
               volume.beta.kubernetes.io/storage-provisioner: nfs-storage-provisioner
Finalizers:    [kubernetes.io/pvc-protection]
Capacity:      10Gi
Access Modes:  RWO
VolumeMode:    Filesystem
Mounted By:    mysql-1-57swf
Events:
  Type    Reason                 Age    From                                                                                                  Message
  ----    ------                 ----   ----                                                                                                  -------
  Normal  ExternalProvisioning   3m43s  persistentvolume-controller                                                                           waiting for a volume to be created, either by external provisioner "nfs-storage-provisioner" or manually created by system administrator
  Normal  Provisioning           3m43s  nfs-storage-provisioner_nfs-client-provisioner-699dc7cc94-sfskb_f29567e6-19ac-11ec-8ef2-0a580a090007  External provisioner is provisioning volume for claim "developer-mysql-openshift/mysql"
  Normal  ProvisioningSucceeded  3m43s  nfs-storage-provisioner_nfs-client-provisioner-699dc7cc94-sfskb_f29567e6-19ac-11ec-8ef2-0a580a090007  Successfully provisioned volume pvc-4a7b2fa3-28d0-473b-93e8-da0215a791c6
[student@workstation dockerfile-review]$ oc port-forward mysql-1-57swf 3306:3306
Forwarding from 127.0.0.1:3306 -> 3306
Forwarding from [::1]:3306 -> 3306
Handling connection for 3306
^C[student@workstation dockerfile-review]$ oc describe pod mysql-1-57swf
Name:         mysql-1-57swf
Namespace:    developer-mysql-openshift
Priority:     0
Node:         master03/192.168.50.12
Start Time:   Wed, 22 Sep 2021 04:47:09 -0400
Labels:       deployment=mysql-1
              deploymentconfig=mysql
              name=mysql
Annotations:  k8s.v1.cni.cncf.io/network-status:
                [{
                    "name": "",
                    "interface": "eth0",
                    "ips": [
                        "10.10.0.27"
                    ],
                    "default": true,
                    "dns": {}
                }]
              k8s.v1.cni.cncf.io/networks-status:
                [{
                    "name": "",
                    "interface": "eth0",
                    "ips": [
                        "10.10.0.27"
                    ],
                    "default": true,
                    "dns": {}
                }]
              openshift.io/deployment-config.latest-version: 1
              openshift.io/deployment-config.name: mysql
              openshift.io/deployment.name: mysql-1
              openshift.io/generated-by: OpenShiftNewApp
              openshift.io/scc: restricted
Status:       Running
IP:           10.10.0.27
IPs:
  IP:           10.10.0.27
Controlled By:  ReplicationController/mysql-1
Containers:
  mysql:
    Container ID:   cri-o://e17b35843b89ed37cd0f23568d062affc4d5958c8b5cf8250b8706033ae0ecb7
    Image:          image-registry.openshift-image-registry.svc:5000/openshift/mysql@sha256:ae4124a5afb239616b2612ea08be98ae61baa603e880bb180dc50cc647141fbc
    Image ID:       image-registry.openshift-image-registry.svc:5000/openshift/mysql@sha256:ae4124a5afb239616b2612ea08be98ae61baa603e880bb180dc50cc647141fbc
    Port:           3306/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Wed, 22 Sep 2021 04:47:13 -0400
    Ready:          True
    Restart Count:  0
    Limits:
      memory:  512Mi
    Requests:
      memory:   512Mi
    Liveness:   exec [/bin/sh -i -c MYSQL_PWD="$MYSQL_PASSWORD" mysqladmin -u $MYSQL_USER ping] delay=30s timeout=1s period=10s #success=1 #failure=3
    Readiness:  exec [/bin/sh -i -c MYSQL_PWD="$MYSQL_PASSWORD" mysqladmin -u $MYSQL_USER ping] delay=5s timeout=1s period=10s #success=1 #failure=3
    Environment:
      MYSQL_USER:           <set to the key 'database-user' in secret 'mysql'>           Optional: false
      MYSQL_PASSWORD:       <set to the key 'database-password' in secret 'mysql'>       Optional: false
      MYSQL_ROOT_PASSWORD:  <set to the key 'database-root-password' in secret 'mysql'>  Optional: false
      MYSQL_DATABASE:       <set to the key 'database-name' in secret 'mysql'>           Optional: false
    Mounts:
      /var/lib/mysql/data from mysql-data (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-mxr55 (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  mysql-data:
    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)
    ClaimName:  mysql
    ReadOnly:   false
  default-token-mxr55:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-mxr55
    Optional:    false
QoS Class:       Burstable
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/memory-pressure:NoSchedule op=Exists
                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                 node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type     Reason          Age    From               Message
  ----     ------          ----   ----               -------
  Normal   Scheduled       9m40s  default-scheduler  Successfully assigned developer-mysql-openshift/mysql-1-57swf to master03
  Normal   AddedInterface  9m36s  multus             Add eth0 [10.10.0.27/23]
  Normal   Pulled          9m36s  kubelet            Container image "image-registry.openshift-image-registry.svc:5000/openshift/mysql@sha256:ae4124a5afb239616b2612ea08be98ae61baa603e880bb180dc50cc647141fbc" already present on machine
  Normal   Created         9m36s  kubelet            Created container mysql
  Normal   Started         9m36s  kubelet            Started container mysql
  Warning  Unhealthy       9m22s  kubelet            Readiness probe failed: sh: cannot set terminal process group (-1): Inappropriate ioctl for device
sh: no job control in this shell
mysqladmin: connect to server at 'localhost' failed
error: 'Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)'
Check that mysqld is running and that the socket: '/var/lib/mysql/mysql.sock' exists!
[student@workstation dockerfile-review]$ oc delete project ${RHT_OCP4_DEV_USER}-mysql-openshift
project.project.openshift.io "developer-mysql-openshift" deleted
[student@workstation dockerfile-review]$ lab openshift-resources finish

Completing the Guided Exercise: Deploying a Database Server on OpenShift

 · Deleting the 'developer-mysql-openshift' project............  SUCCESS
[student@workstation dockerfile-review]$ lab openshift-routes start

Setting up workstation for the Guided Exercise: Exposing a Service as a Route

 Verifying the OpenShift cluster is running:
 · Log in on OpenShift.........................................  SUCCESS
 · Check the internal registry is up and running...............  SUCCESS
 · Ensuring the 'developer-route' project does not exist.......  SUCCESS
[student@workstation dockerfile-review]$ source /usr/local/etc/ocp4.config
[student@workstation dockerfile-review]$ oc login -u ${RHT_OCP4_DEV_USER} -p  ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>

[student@workstation dockerfile-review]$ oc new-project ${RHT_OCP4_DEV_USER}-route
Now using project "developer-route" on server "https://api.ocp4.example.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app rails-postgresql-example

to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=k8s.gcr.io/serve_hostname

[student@workstation dockerfile-review]$ oc new-app  --image-stream php:7.3~https://github.com/${RHT_OCP4_GITHUB_USER}/DO180-apps  --context-dir php-helloworld --name php-helloworld
--> Found image fff7ff0 (3 months old) in image stream "openshift/php" under tag "7.3" for "php:7.3"

    Apache 2.4 with PHP 7.3 
    ----------------------- 
    PHP 7.3 available as container is a base platform for building and running various PHP 7.3 applications and frameworks. PHP is an HTML-embedded scripting language. PHP attempts to make it easy for developers to write dynamically generated web pages. PHP also offers built-in database integration for several commercial and non-commercial database management systems, so writing a database-enabled webpage with PHP is fairly simple. The most common use of PHP coding is probably as a replacement for CGI scripts.

    Tags: builder, php, php73, rh-php73

    * A source build using source code from https://github.com/soumojit011/DO180-apps will be created
      * The resulting image will be pushed to image stream tag "php-helloworld:latest"
      * Use 'oc start-build' to trigger a new build

--> Creating resources ...
    imagestream.image.openshift.io "php-helloworld" created
    buildconfig.build.openshift.io "php-helloworld" created
    deployment.apps "php-helloworld" created
    service "php-helloworld" created
--> Success
    Build scheduled, use 'oc logs -f buildconfig/php-helloworld' to track its progress.
    Application is not exposed. You can expose services to the outside world by executing one or more of the commands below:
     'oc expose service/php-helloworld' 
    Run 'oc status' to view your app.
[student@workstation dockerfile-review]$ oc get pods -w
NAME                     READY   STATUS    RESTARTS   AGE
php-helloworld-1-build   1/1     Running   0          26s
^C[student@workstation dockerfile-review]$ oc logs -f bc/php-helloworld
Adding cluster TLS certificate authority to trust store
Cloning "https://github.com/soumojit011/DO180-apps" ...
	Commit:	f7cd8963ef353d9173c3a21dcccf402f3616840b (Initial commit, including all apps previously in course)
	Author:	Jordi Sola <someth2say@gmail.com>
	Date:	Fri Oct 4 13:04:03 2019 +0200
Adding cluster TLS certificate authority to trust store
Adding cluster TLS certificate authority to trust store
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying config sha256:fff7ff0b8ac76304da2e92b6c21efb9c03075146f1ff0fd4f7f255cd3cc3e971
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 2: LABEL "io.openshift.build.commit.author"="Jordi Sola <someth2say@gmail.com>"       "io.openshift.build.commit.date"="Fri Oct 4 13:04:03 2019 +0200"       "io.openshift.build.commit.id"="f7cd8963ef353d9173c3a21dcccf402f3616840b"       "io.openshift.build.commit.ref"="master"       "io.openshift.build.commit.message"="Initial commit, including all apps previously in course"       "io.openshift.build.source-location"="https://github.com/soumojit011/DO180-apps"       "io.openshift.build.source-context-dir"="php-helloworld"       "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569"
STEP 3: ENV OPENSHIFT_BUILD_NAME="php-helloworld-1"     OPENSHIFT_BUILD_NAMESPACE="developer-route"     OPENSHIFT_BUILD_SOURCE="https://github.com/soumojit011/DO180-apps"     OPENSHIFT_BUILD_COMMIT="f7cd8963ef353d9173c3a21dcccf402f3616840b"
STEP 4: USER root
STEP 5: COPY upload/src /tmp/src
STEP 6: RUN chown -R 1001:0 /tmp/src
time="2021-09-22T09:22:28Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2021-09-22T09:22:28Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
STEP 7: USER 1001
STEP 8: RUN /usr/libexec/s2i/assemble
time="2021-09-22T09:22:29Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2021-09-22T09:22:29Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
---> Installing application source...
=> sourcing 20-copy-config.sh ...
---> 09:22:30     Processing additional arbitrary httpd configuration provided by s2i ...
=> sourcing 00-documentroot.conf ...
=> sourcing 50-mpm-tuning.conf ...
=> sourcing 40-ssl-certs.sh ...
STEP 9: CMD /usr/libexec/s2i/run
STEP 10: COMMIT temp.builder.openshift.io/developer-route/php-helloworld-1:ac824c3e
Getting image source signatures
Copying blob sha256:01d2fb86653538b491b461c58ff5c3f5659c808d75efd99ba3ae4f1427db90ab
Copying blob sha256:9e12a51e507ab7be1c0b59578cbdbbdabe739d61ed8d4b70fb7644408ef97fa8
Copying blob sha256:62adab66aca00b517ea945ad5141f291cd6c486b393bcf80900c031d71df4094
Copying blob sha256:249169e7ab4c9425c24c485f1a72ea1af277afe58b5388ba8732efa919774b35
Copying blob sha256:10d4f57e839c1a8e22325ab7948ca9428d4d3abce276812a44103b59a7e05aab
Copying blob sha256:0cb525f0fce8fbce9a7744f4ba4d380e109f3dc11755ffea6917bf28cef60463
Copying config sha256:6ad4f7c4562c5cd70141add2b68a40cb0dcdc5a656046cb21a00620dc30c8e0b
Writing manifest to image destination
Storing signatures
--> 6ad4f7c4562
6ad4f7c4562c5cd70141add2b68a40cb0dcdc5a656046cb21a00620dc30c8e0b

Pushing image image-registry.openshift-image-registry.svc:5000/developer-route/php-helloworld:latest ...
Getting image source signatures
Copying blob sha256:0cb525f0fce8fbce9a7744f4ba4d380e109f3dc11755ffea6917bf28cef60463
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying config sha256:6ad4f7c4562c5cd70141add2b68a40cb0dcdc5a656046cb21a00620dc30c8e0b
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/developer-route/php-helloworld@sha256:0c56abea80ee03d975aea704017c6ccc8dc428ebac66227fddd5424ee0d2b33f
Push successful
[student@workstation dockerfile-review]$ oc logs -f php-helloworld-598b4c66bc-g8l9w
Error from server (NotFound): pods "php-helloworld-598b4c66bc-g8l9w" not found
[student@workstation dockerfile-review]$ oc logs -f php-helloworld-1-build
Adding cluster TLS certificate authority to trust store
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying config sha256:fff7ff0b8ac76304da2e92b6c21efb9c03075146f1ff0fd4f7f255cd3cc3e971
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 2: LABEL "io.openshift.build.commit.author"="Jordi Sola <someth2say@gmail.com>"       "io.openshift.build.commit.date"="Fri Oct 4 13:04:03 2019 +0200"       "io.openshift.build.commit.id"="f7cd8963ef353d9173c3a21dcccf402f3616840b"       "io.openshift.build.commit.ref"="master"       "io.openshift.build.commit.message"="Initial commit, including all apps previously in course"       "io.openshift.build.source-location"="https://github.com/soumojit011/DO180-apps"       "io.openshift.build.source-context-dir"="php-helloworld"       "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569"
STEP 3: ENV OPENSHIFT_BUILD_NAME="php-helloworld-1"     OPENSHIFT_BUILD_NAMESPACE="developer-route"     OPENSHIFT_BUILD_SOURCE="https://github.com/soumojit011/DO180-apps"     OPENSHIFT_BUILD_COMMIT="f7cd8963ef353d9173c3a21dcccf402f3616840b"
STEP 4: USER root
STEP 5: COPY upload/src /tmp/src
STEP 6: RUN chown -R 1001:0 /tmp/src
time="2021-09-22T09:22:28Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2021-09-22T09:22:28Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
STEP 7: USER 1001
STEP 8: RUN /usr/libexec/s2i/assemble
time="2021-09-22T09:22:29Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2021-09-22T09:22:29Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
---> Installing application source...
=> sourcing 20-copy-config.sh ...
---> 09:22:30     Processing additional arbitrary httpd configuration provided by s2i ...
=> sourcing 00-documentroot.conf ...
=> sourcing 50-mpm-tuning.conf ...
=> sourcing 40-ssl-certs.sh ...
STEP 9: CMD /usr/libexec/s2i/run
STEP 10: COMMIT temp.builder.openshift.io/developer-route/php-helloworld-1:ac824c3e
Getting image source signatures
Copying blob sha256:01d2fb86653538b491b461c58ff5c3f5659c808d75efd99ba3ae4f1427db90ab
Copying blob sha256:9e12a51e507ab7be1c0b59578cbdbbdabe739d61ed8d4b70fb7644408ef97fa8
Copying blob sha256:62adab66aca00b517ea945ad5141f291cd6c486b393bcf80900c031d71df4094
Copying blob sha256:249169e7ab4c9425c24c485f1a72ea1af277afe58b5388ba8732efa919774b35
Copying blob sha256:10d4f57e839c1a8e22325ab7948ca9428d4d3abce276812a44103b59a7e05aab
Copying blob sha256:0cb525f0fce8fbce9a7744f4ba4d380e109f3dc11755ffea6917bf28cef60463
Copying config sha256:6ad4f7c4562c5cd70141add2b68a40cb0dcdc5a656046cb21a00620dc30c8e0b
Writing manifest to image destination
Storing signatures
--> 6ad4f7c4562
6ad4f7c4562c5cd70141add2b68a40cb0dcdc5a656046cb21a00620dc30c8e0b

Pushing image image-registry.openshift-image-registry.svc:5000/developer-route/php-helloworld:latest ...
Getting image source signatures
Copying blob sha256:0cb525f0fce8fbce9a7744f4ba4d380e109f3dc11755ffea6917bf28cef60463
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying config sha256:6ad4f7c4562c5cd70141add2b68a40cb0dcdc5a656046cb21a00620dc30c8e0b
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/developer-route/php-helloworld@sha256:0c56abea80ee03d975aea704017c6ccc8dc428ebac66227fddd5424ee0d2b33f
Push successful
[student@workstation dockerfile-review]$ oc describe svc/php-helloworld
Name:              php-helloworld
Namespace:         developer-route
Labels:            app=php-helloworld
                   app.kubernetes.io/component=php-helloworld
                   app.kubernetes.io/instance=php-helloworld
Annotations:       openshift.io/generated-by: OpenShiftNewApp
Selector:          deployment=php-helloworld
Type:              ClusterIP
IP:                172.30.55.20
Port:              8080-tcp  8080/TCP
TargetPort:        8080/TCP
Endpoints:         10.8.1.77:8080
Port:              8443-tcp  8443/TCP
TargetPort:        8443/TCP
Endpoints:         10.8.1.77:8443
Session Affinity:  None
Events:            <none>
[student@workstation dockerfile-review]$ oc expose svc/php-helloworld
route.route.openshift.io/php-helloworld exposed
[student@workstation dockerfile-review]$ oc describe route
Name:			php-helloworld
Namespace:		developer-route
Created:		13 seconds ago
Labels:			app=php-helloworld
			app.kubernetes.io/component=php-helloworld
			app.kubernetes.io/instance=php-helloworld
Annotations:		openshift.io/host.generated=true
Requested Host:		php-helloworld-developer-route.apps.ocp4.example.com
			   exposed on router default (host apps.ocp4.example.com) 13 seconds ago
Path:			<none>
TLS Termination:	<none>
Insecure Policy:	<none>
Endpoint Port:		8080-tcp

Service:	php-helloworld
Weight:		100 (100%)
Endpoints:	10.8.1.77:8080, 10.8.1.77:8443
[student@workstation dockerfile-review]$ curl  php-helloworld-${RHT_OCP4_DEV_USER}-route.${RHT_OCP4_WILDCARD_DOMAIN}
Hello, World! php version is 7.3.20
[student@workstation dockerfile-review]$ oc delete route/php-helloworld
route.route.openshift.io "php-helloworld" deleted
[student@workstation dockerfile-review]$ oc expose svc/php-helloworld  --name=${RHT_OCP4_DEV_USER}-xyz
route.route.openshift.io/developer-xyz exposed
[student@workstation dockerfile-review]$ curl  ${RHT_OCP4_DEV_USER}-xyz-${RHT_OCP4_DEV_USER}-route.${RHT_OCP4_WILDCARD_DOMAIN}
Hello, World! php version is 7.3.20
[student@workstation dockerfile-review]$ lab openshift-routes finish

Completing the Guided Exercise: Exposing a Service as a Route

 · Removing OpenShift project 'developer-route'................  SUCCESS
[student@workstation dockerfile-review]$ lab openshift-s2i start

Setting up workstation for the Guided Excercise: Creating a Containerized Application with Source-to-Image

 · Installing the tree command.................................  SUCCESS
 Checking local clone of the applications repository:
 · Folder '/home/student/DO180-apps' is a git repo.............  SUCCESS
 · Git repo '/home/student/DO180-apps' has no pending changes..  SUCCESS
 Verifying the OpenShift cluster is running:
 · Log in on OpenShift.........................................  SUCCESS
 · Check the internal registry is up and running...............  SUCCESS
 · Ensuring the 'developer-s2i' project does not exist.........  SUCCESS
[student@workstation dockerfile-review]$ cd ~/DO180-apps
[student@workstation DO180-apps]$ git checkout master
Switched to branch 'master'
Your branch is up to date with 'origin/master'.
[student@workstation DO180-apps]$ git checkout -b s2i
Switched to a new branch 's2i'
[student@workstation DO180-apps]$ git push -u origin s2i
Username for 'https://github.com': soumojit011
Password for 'https://soumojit011@github.com': 
remote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.
remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.
fatal: Authentication failed for 'https://github.com/soumojit011/DO180-apps.git/'
[student@workstation DO180-apps]$ git push -u origin s2i
Username for 'https://github.com': soumojit011
Password for 'https://soumojit011@github.com': 
Branch 's2i' set up to track remote branch 's2i' from 'origin'.
Everything up-to-date
[student@workstation DO180-apps]$ cd /home/student/DO180-apps/php-helloworld
[student@workstation php-helloworld]$ ls -lrth
total 4.0K
-rw-rw-r--. 1 student student 69 Sep 19 22:51 index.php
[student@workstation php-helloworld]$ vi index.php
[student@workstation php-helloworld]$ source /usr/local/etc/ocp4.config
[student@workstation php-helloworld]$ oc login -u ${RHT_OCP4_DEV_USER} -p  ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>

[student@workstation php-helloworld]$ oc new-project ${RHT_OCP4_DEV_USER}-s2i
Now using project "developer-s2i" on server "https://api.ocp4.example.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app rails-postgresql-example

to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=k8s.gcr.io/serve_hostname

[student@workstation php-helloworld]$ oc new-app php:7.3 --name=php-helloworld  https://github.com/${RHT_OCP4_GITHUB_USER}/DO180-apps#s2i  --context-dir php-helloworld
--> Found image fff7ff0 (3 months old) in image stream "openshift/php" under tag "7.3" for "php:7.3"

    Apache 2.4 with PHP 7.3 
    ----------------------- 
    PHP 7.3 available as container is a base platform for building and running various PHP 7.3 applications and frameworks. PHP is an HTML-embedded scripting language. PHP attempts to make it easy for developers to write dynamically generated web pages. PHP also offers built-in database integration for several commercial and non-commercial database management systems, so writing a database-enabled webpage with PHP is fairly simple. The most common use of PHP coding is probably as a replacement for CGI scripts.

    Tags: builder, php, php73, rh-php73

    * The source repository appears to match: php
    * A source build using source code from https://github.com/soumojit011/DO180-apps#s2i will be created
      * The resulting image will be pushed to image stream tag "php-helloworld:latest"
      * Use 'oc start-build' to trigger a new build

--> Creating resources ...
    imagestream.image.openshift.io "php-helloworld" created
    buildconfig.build.openshift.io "php-helloworld" created
    deployment.apps "php-helloworld" created
    service "php-helloworld" created
--> Success
    Build scheduled, use 'oc logs -f buildconfig/php-helloworld' to track its progress.
    Application is not exposed. You can expose services to the outside world by executing one or more of the commands below:
     'oc expose service/php-helloworld' 
    Run 'oc status' to view your app.
[student@workstation php-helloworld]$ oc get pods
NAME                     READY   STATUS    RESTARTS   AGE
php-helloworld-1-build   1/1     Running   0          12s
[student@workstation php-helloworld]$ oc logs --all-containers  -f php-helloworld-1-build
Adding cluster TLS certificate authority to trust store
Adding cluster TLS certificate authority to trust store
Cloning "https://github.com/soumojit011/DO180-apps" ...
	Commit:	f7cd8963ef353d9173c3a21dcccf402f3616840b (Initial commit, including all apps previously in course)
	Author:	Jordi Sola <someth2say@gmail.com>
	Date:	Fri Oct 4 13:04:03 2019 +0200
Adding cluster TLS certificate authority to trust store
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying config sha256:fff7ff0b8ac76304da2e92b6c21efb9c03075146f1ff0fd4f7f255cd3cc3e971
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 2: LABEL "io.openshift.build.commit.id"="f7cd8963ef353d9173c3a21dcccf402f3616840b"       "io.openshift.build.commit.ref"="s2i"       "io.openshift.build.commit.message"="Initial commit, including all apps previously in course"       "io.openshift.build.source-location"="https://github.com/soumojit011/DO180-apps"       "io.openshift.build.source-context-dir"="php-helloworld"       "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569"       "io.openshift.build.commit.author"="Jordi Sola <someth2say@gmail.com>"       "io.openshift.build.commit.date"="Fri Oct 4 13:04:03 2019 +0200"
STEP 3: ENV OPENSHIFT_BUILD_NAME="php-helloworld-1"     OPENSHIFT_BUILD_NAMESPACE="developer-s2i"     OPENSHIFT_BUILD_SOURCE="https://github.com/soumojit011/DO180-apps"     OPENSHIFT_BUILD_REFERENCE="s2i"     OPENSHIFT_BUILD_COMMIT="f7cd8963ef353d9173c3a21dcccf402f3616840b"
STEP 4: USER root
STEP 5: COPY upload/src /tmp/src
STEP 6: RUN chown -R 1001:0 /tmp/src
time="2021-09-22T09:44:29Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2021-09-22T09:44:29Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
STEP 7: USER 1001
STEP 8: RUN /usr/libexec/s2i/assemble
time="2021-09-22T09:44:31Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2021-09-22T09:44:31Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
---> Installing application source...
=> sourcing 20-copy-config.sh ...
---> 09:44:31     Processing additional arbitrary httpd configuration provided by s2i ...
=> sourcing 00-documentroot.conf ...
=> sourcing 50-mpm-tuning.conf ...
=> sourcing 40-ssl-certs.sh ...
STEP 9: CMD /usr/libexec/s2i/run
STEP 10: COMMIT temp.builder.openshift.io/developer-s2i/php-helloworld-1:4ca619f7
Getting image source signatures
Copying blob sha256:01d2fb86653538b491b461c58ff5c3f5659c808d75efd99ba3ae4f1427db90ab
Copying blob sha256:9e12a51e507ab7be1c0b59578cbdbbdabe739d61ed8d4b70fb7644408ef97fa8
Copying blob sha256:62adab66aca00b517ea945ad5141f291cd6c486b393bcf80900c031d71df4094
Copying blob sha256:249169e7ab4c9425c24c485f1a72ea1af277afe58b5388ba8732efa919774b35
Copying blob sha256:10d4f57e839c1a8e22325ab7948ca9428d4d3abce276812a44103b59a7e05aab
Copying blob sha256:b8c16f7d0d1e23b4663665b0c2b4d5c0b924ec9b8d02b146905c313e72c3696b
Copying config sha256:7a6ee7c280d43770b746adaa77849c85fa085395c762ffa6aa9b4e830de9ac9e
Writing manifest to image destination
Storing signatures
--> 7a6ee7c280d
7a6ee7c280d43770b746adaa77849c85fa085395c762ffa6aa9b4e830de9ac9e

Pushing image image-registry.openshift-image-registry.svc:5000/developer-s2i/php-helloworld:latest ...
Getting image source signatures
Copying blob sha256:b8c16f7d0d1e23b4663665b0c2b4d5c0b924ec9b8d02b146905c313e72c3696b
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying config sha256:7a6ee7c280d43770b746adaa77849c85fa085395c762ffa6aa9b4e830de9ac9e
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/developer-s2i/php-helloworld@sha256:71169a4a7890fff667037983b1fd3d17a6ec19b433656bb72e673f8e42f119cd
Push successful
[student@workstation php-helloworld]$ oc describe deployment/php-helloworld
Name:                   php-helloworld
Namespace:              developer-s2i
CreationTimestamp:      Wed, 22 Sep 2021 05:44:01 -0400
Labels:                 app=php-helloworld
                        app.kubernetes.io/component=php-helloworld
                        app.kubernetes.io/instance=php-helloworld
Annotations:            deployment.kubernetes.io/revision: 2
                        image.openshift.io/triggers:
                          [{"from":{"kind":"ImageStreamTag","name":"php-helloworld:latest"},"fieldPath":"spec.template.spec.containers[?(@.name==\"php-helloworld\")...
                        openshift.io/generated-by: OpenShiftNewApp
Selector:               deployment=php-helloworld
Replicas:               1 desired | 1 updated | 1 total | 1 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:       deployment=php-helloworld
  Annotations:  openshift.io/generated-by: OpenShiftNewApp
  Containers:
   php-helloworld:
    Image:        image-registry.openshift-image-registry.svc:5000/developer-s2i/php-helloworld@sha256:71169a4a7890fff667037983b1fd3d17a6ec19b433656bb72e673f8e42f119cd
    Ports:        8080/TCP, 8443/TCP
    Host Ports:   0/TCP, 0/TCP
    Environment:  <none>
    Mounts:       <none>
  Volumes:        <none>
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Available      True    MinimumReplicasAvailable
  Progressing    True    NewReplicaSetAvailable
OldReplicaSets:  <none>
NewReplicaSet:   php-helloworld-6c7c49b7cf (1/1 replicas created)
Events:
  Type    Reason             Age   From                   Message
  ----    ------             ----  ----                   -------
  Normal  ScalingReplicaSet  60s   deployment-controller  Scaled up replica set php-helloworld-7595dffb9d to 1
  Normal  ScalingReplicaSet  28s   deployment-controller  Scaled up replica set php-helloworld-6c7c49b7cf to 1
  Normal  ScalingReplicaSet  23s   deployment-controller  Scaled down replica set php-helloworld-7595dffb9d to 0
[student@workstation php-helloworld]$ oc get pods
NAME                              READY   STATUS      RESTARTS   AGE
php-helloworld-1-build            0/1     Completed   0          2m27s
php-helloworld-6c7c49b7cf-zx74k   1/1     Running     0          116s
[student@workstation php-helloworld]$ oc logs php-helloworld-7595dffb9d
Error from server (NotFound): pods "php-helloworld-7595dffb9d" not found
[student@workstation php-helloworld]$ oc get events 
LAST SEEN   TYPE      REASON                     OBJECT                                 MESSAGE
2m58s       Normal    Scheduled                  pod/php-helloworld-1-build             Successfully assigned developer-s2i/php-helloworld-1-build to master03
2m56s       Normal    AddedInterface             pod/php-helloworld-1-build             Add eth0 [10.10.0.34/23]
2m56s       Normal    Pulled                     pod/php-helloworld-1-build             Container image "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a261653285dfb996fef425335d85a0b324af3ce88689e21dd7d3905e57b7c020" already present on machine
2m56s       Normal    Created                    pod/php-helloworld-1-build             Created container git-clone
2m56s       Normal    Started                    pod/php-helloworld-1-build             Started container git-clone
2m52s       Normal    Pulled                     pod/php-helloworld-1-build             Container image "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a261653285dfb996fef425335d85a0b324af3ce88689e21dd7d3905e57b7c020" already present on machine
2m51s       Normal    Created                    pod/php-helloworld-1-build             Created container manage-dockerfile
2m51s       Normal    Started                    pod/php-helloworld-1-build             Started container manage-dockerfile
2m50s       Normal    Pulled                     pod/php-helloworld-1-build             Container image "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a261653285dfb996fef425335d85a0b324af3ce88689e21dd7d3905e57b7c020" already present on machine
2m49s       Normal    Created                    pod/php-helloworld-1-build             Created container sti-build
2m49s       Normal    Started                    pod/php-helloworld-1-build             Started container sti-build
2m55s       Normal    BuildStarted               build/php-helloworld-1                 Build developer-s2i/php-helloworld-1 is now running
2m26s       Normal    BuildCompleted             build/php-helloworld-1                 Build developer-s2i/php-helloworld-1 completed successfully
2m26s       Normal    Scheduled                  pod/php-helloworld-6c7c49b7cf-zx74k    Successfully assigned developer-s2i/php-helloworld-6c7c49b7cf-zx74k to master01
2m24s       Normal    AddedInterface             pod/php-helloworld-6c7c49b7cf-zx74k    Add eth0 [10.8.1.80/23]
2m23s       Normal    Pulling                    pod/php-helloworld-6c7c49b7cf-zx74k    Pulling image "image-registry.openshift-image-registry.svc:5000/developer-s2i/php-helloworld@sha256:71169a4a7890fff667037983b1fd3d17a6ec19b433656bb72e673f8e42f119cd"
2m23s       Normal    Pulled                     pod/php-helloworld-6c7c49b7cf-zx74k    Successfully pulled image "image-registry.openshift-image-registry.svc:5000/developer-s2i/php-helloworld@sha256:71169a4a7890fff667037983b1fd3d17a6ec19b433656bb72e673f8e42f119cd" in 627.021315ms
2m23s       Normal    Created                    pod/php-helloworld-6c7c49b7cf-zx74k    Created container php-helloworld
2m23s       Normal    Started                    pod/php-helloworld-6c7c49b7cf-zx74k    Started container php-helloworld
2m27s       Normal    SuccessfulCreate           replicaset/php-helloworld-6c7c49b7cf   Created pod: php-helloworld-6c7c49b7cf-zx74k
2m59s       Warning   FailedCreate               replicaset/php-helloworld-7595dffb9d   Error creating: Pod "php-helloworld-7595dffb9d-knpdt" is invalid: spec.containers[0].image: Invalid value: " ": must not have leading or trailing whitespace
2m59s       Warning   FailedCreate               replicaset/php-helloworld-7595dffb9d   Error creating: Pod "php-helloworld-7595dffb9d-fhzhh" is invalid: spec.containers[0].image: Invalid value: " ": must not have leading or trailing whitespace
2m59s       Warning   FailedCreate               replicaset/php-helloworld-7595dffb9d   Error creating: Pod "php-helloworld-7595dffb9d-jx4b2" is invalid: spec.containers[0].image: Invalid value: " ": must not have leading or trailing whitespace
2m59s       Warning   FailedCreate               replicaset/php-helloworld-7595dffb9d   Error creating: Pod "php-helloworld-7595dffb9d-hw989" is invalid: spec.containers[0].image: Invalid value: " ": must not have leading or trailing whitespace
2m59s       Warning   FailedCreate               replicaset/php-helloworld-7595dffb9d   Error creating: Pod "php-helloworld-7595dffb9d-5cd5j" is invalid: spec.containers[0].image: Invalid value: " ": must not have leading or trailing whitespace
2m59s       Warning   FailedCreate               replicaset/php-helloworld-7595dffb9d   Error creating: Pod "php-helloworld-7595dffb9d-knfhf" is invalid: spec.containers[0].image: Invalid value: " ": must not have leading or trailing whitespace
2m59s       Warning   FailedCreate               replicaset/php-helloworld-7595dffb9d   Error creating: Pod "php-helloworld-7595dffb9d-25xkc" is invalid: spec.containers[0].image: Invalid value: " ": must not have leading or trailing whitespace
2m58s       Warning   FailedCreate               replicaset/php-helloworld-7595dffb9d   Error creating: Pod "php-helloworld-7595dffb9d-dh9w6" is invalid: spec.containers[0].image: Invalid value: " ": must not have leading or trailing whitespace
2m58s       Warning   FailedCreate               replicaset/php-helloworld-7595dffb9d   Error creating: Pod "php-helloworld-7595dffb9d-zqmf9" is invalid: spec.containers[0].image: Invalid value: " ": must not have leading or trailing whitespace
2m38s       Warning   FailedCreate               replicaset/php-helloworld-7595dffb9d   (combined from similar events): Error creating: Pod "php-helloworld-7595dffb9d-kkjcr" is invalid: spec.containers[0].image: Invalid value: " ": must not have leading or trailing whitespace
2m59s       Normal    ScalingReplicaSet          deployment/php-helloworld              Scaled up replica set php-helloworld-7595dffb9d to 1
2m59s       Warning   BuildConfigTriggerFailed   buildconfig/php-helloworld             error triggering Build for BuildConfig developer-s2i/php-helloworld: Internal error occurred: build config developer-s2i/php-helloworld has already instantiated a build for imageid image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
2m27s       Normal    ScalingReplicaSet          deployment/php-helloworld              Scaled up replica set php-helloworld-6c7c49b7cf to 1
2m22s       Normal    ScalingReplicaSet          deployment/php-helloworld              Scaled down replica set php-helloworld-7595dffb9d to 0
[student@workstation php-helloworld]$ 
[student@workstation php-helloworld]$ oc describe deployment/php-helloworld
Name:                   php-helloworld
Namespace:              developer-s2i
CreationTimestamp:      Wed, 22 Sep 2021 05:44:01 -0400
Labels:                 app=php-helloworld
                        app.kubernetes.io/component=php-helloworld
                        app.kubernetes.io/instance=php-helloworld
Annotations:            deployment.kubernetes.io/revision: 2
                        image.openshift.io/triggers:
                          [{"from":{"kind":"ImageStreamTag","name":"php-helloworld:latest"},"fieldPath":"spec.template.spec.containers[?(@.name==\"php-helloworld\")...
                        openshift.io/generated-by: OpenShiftNewApp
Selector:               deployment=php-helloworld
Replicas:               1 desired | 1 updated | 1 total | 1 available | 0 unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        0
RollingUpdateStrategy:  25% max unavailable, 25% max surge
Pod Template:
  Labels:       deployment=php-helloworld
  Annotations:  openshift.io/generated-by: OpenShiftNewApp
  Containers:
   php-helloworld:
    Image:        image-registry.openshift-image-registry.svc:5000/developer-s2i/php-helloworld@sha256:71169a4a7890fff667037983b1fd3d17a6ec19b433656bb72e673f8e42f119cd
    Ports:        8080/TCP, 8443/TCP
    Host Ports:   0/TCP, 0/TCP
    Environment:  <none>
    Mounts:       <none>
  Volumes:        <none>
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Available      True    MinimumReplicasAvailable
  Progressing    True    NewReplicaSetAvailable
OldReplicaSets:  <none>
NewReplicaSet:   php-helloworld-6c7c49b7cf (1/1 replicas created)
Events:
  Type    Reason             Age    From                   Message
  ----    ------             ----   ----                   -------
  Normal  ScalingReplicaSet  3m35s  deployment-controller  Scaled up replica set php-helloworld-7595dffb9d to 1
  Normal  ScalingReplicaSet  3m3s   deployment-controller  Scaled up replica set php-helloworld-6c7c49b7cf to 1
  Normal  ScalingReplicaSet  2m58s  deployment-controller  Scaled down replica set php-helloworld-7595dffb9d to 0
[student@workstation php-helloworld]$ oc expose service php-helloworld  --name ${RHT_OCP4_DEV_USER}-helloworld
route.route.openshift.io/developer-helloworld exposed
[student@workstation php-helloworld]$ oc get route -o jsonpath='{..spec.host}{"\n"}'
developer-helloworld-developer-s2i.apps.ocp4.example.com
[student@workstation php-helloworld]$ curl -s  ${RHT_OCP4_DEV_USER}-helloworld-${RHT_OCP4_DEV_USER}-s2i. ${RHT_OCP4_WILDCARD_DOMAIN}
[student@workstation php-helloworld]$ 
[student@workstation php-helloworld]$ curl -s  ${RHT_OCP4_DEV_USER}-helloworld-${RHT_OCP4_DEV_USER}-s2i.${RHT_OCP4_WILDCARD_DOMAIN}
Hello, World! php version is 7.3.20
[student@workstation php-helloworld]$ oc get route
NAME                   HOST/PORT                                                  PATH   SERVICES         PORT       TERMINATION   WILDCARD
developer-helloworld   developer-helloworld-developer-s2i.apps.ocp4.example.com          php-helloworld   8080-tcp                 None
[student@workstation php-helloworld]$ cd ~/DO180-apps/php-helloworld
[student@workstation php-helloworld]$ ls -lrth
total 4.0K
-rw-rw-r--. 1 student student 69 Sep 19 22:51 index.php
[student@workstation php-helloworld]$ vi index.php 
[student@workstation php-helloworld]$ git add .
[student@workstation php-helloworld]$ git commit -m 'Changed index page contents.'
[s2i 64d232f] Changed index page contents.
 1 file changed, 1 insertion(+)
[student@workstation php-helloworld]$ git push origin s2i
Username for 'https://github.com': soumojit011
Password for 'https://soumojit011@github.com': 
Enumerating objects: 7, done.
Counting objects: 100% (7/7), done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (4/4), 418 bytes | 418.00 KiB/s, done.
Total 4 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/soumojit011/DO180-apps.git
   f7cd896..64d232f  s2i -> s2i
[student@workstation php-helloworld]$ oc start-build php-helloworld
build.build.openshift.io/php-helloworld-2 started
[student@workstation php-helloworld]$ oc logs php-helloworld-2-build -f
Adding cluster TLS certificate authority to trust store
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying config sha256:fff7ff0b8ac76304da2e92b6c21efb9c03075146f1ff0fd4f7f255cd3cc3e971
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 2: LABEL "io.openshift.build.source-location"="https://github.com/soumojit011/DO180-apps"       "io.openshift.build.source-context-dir"="php-helloworld"       "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569"       "io.openshift.build.commit.author"="Student User <student@workstation.lab.example.com>"       "io.openshift.build.commit.date"="Wed Sep 22 05:55:09 2021 -0400"       "io.openshift.build.commit.id"="64d232f15b7e2fb2b3e180cefeb6922665825b27"       "io.openshift.build.commit.ref"="s2i"       "io.openshift.build.commit.message"="Changed index page contents."
STEP 3: ENV OPENSHIFT_BUILD_NAME="php-helloworld-2"     OPENSHIFT_BUILD_NAMESPACE="developer-s2i"     OPENSHIFT_BUILD_SOURCE="https://github.com/soumojit011/DO180-apps"     OPENSHIFT_BUILD_REFERENCE="s2i"     OPENSHIFT_BUILD_COMMIT="64d232f15b7e2fb2b3e180cefeb6922665825b27"
STEP 4: USER root
STEP 5: COPY upload/src /tmp/src
STEP 6: RUN chown -R 1001:0 /tmp/src
time="2021-09-22T09:56:50Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2021-09-22T09:56:50Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
STEP 7: USER 1001
STEP 8: RUN /usr/libexec/s2i/assemble
time="2021-09-22T09:56:51Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2021-09-22T09:56:51Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
---> Installing application source...
=> sourcing 20-copy-config.sh ...
---> 09:56:51     Processing additional arbitrary httpd configuration provided by s2i ...
=> sourcing 00-documentroot.conf ...
=> sourcing 50-mpm-tuning.conf ...
=> sourcing 40-ssl-certs.sh ...
STEP 9: CMD /usr/libexec/s2i/run
STEP 10: COMMIT temp.builder.openshift.io/developer-s2i/php-helloworld-2:d1c3fb0e
Getting image source signatures
Copying blob sha256:01d2fb86653538b491b461c58ff5c3f5659c808d75efd99ba3ae4f1427db90ab
Copying blob sha256:9e12a51e507ab7be1c0b59578cbdbbdabe739d61ed8d4b70fb7644408ef97fa8
Copying blob sha256:62adab66aca00b517ea945ad5141f291cd6c486b393bcf80900c031d71df4094
Copying blob sha256:249169e7ab4c9425c24c485f1a72ea1af277afe58b5388ba8732efa919774b35
Copying blob sha256:10d4f57e839c1a8e22325ab7948ca9428d4d3abce276812a44103b59a7e05aab
Copying blob sha256:424e1adf11857cee9a84fa245e2fcc617640bea4c0713b973da59fd076456645
Copying config sha256:b596a372090abf5c636296581050a86a8ee082d425abb9405237de27dfc7d4a7
Writing manifest to image destination
Storing signatures
--> b596a372090
b596a372090abf5c636296581050a86a8ee082d425abb9405237de27dfc7d4a7

Pushing image image-registry.openshift-image-registry.svc:5000/developer-s2i/php-helloworld:latest ...
Getting image source signatures
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying blob sha256:424e1adf11857cee9a84fa245e2fcc617640bea4c0713b973da59fd076456645
Copying config sha256:b596a372090abf5c636296581050a86a8ee082d425abb9405237de27dfc7d4a7
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/developer-s2i/php-helloworld@sha256:955fc49bc5ec999c498ac24a65f460b5fb69d3d2ebea00609bb3090ddcda1135
Push successful
[student@workstation php-helloworld]$ oc get pods
NAME                              READY   STATUS              RESTARTS   AGE
php-helloworld-1-build            0/1     Completed           0          13m
php-helloworld-2-build            0/1     Completed           0          42s
php-helloworld-5b64c8d886-6c5zn   0/1     ContainerCreating   0          11s
php-helloworld-6c7c49b7cf-zx74k   1/1     Running             0          12m
[student@workstation php-helloworld]$ curl -s  ${RHT_OCP4_DEV_USER}-helloworld-${RHT_OCP4_DEV_USER}-s2i.${RHT_OCP4_WILDCARD_DOMAIN}
Hello, World! php version is 7.3.20
A change is a coming!
[student@workstation php-helloworld]$ lab openshift-s2i finish

Completing the Guided Excercise: Creating a Containerized Application with Source-to-Image

 · Log in on OpenShift.........................................  SUCCESS
 · Deleting the 'developer-s2i' project........................  SUCCESS
[student@workstation php-helloworld]$ lab openshift-review start

Setting up workstation for the Lab: Deploying Containerized Applications on OpenShift

 Verifying the OpenShift cluster is running:
 · Log in on OpenShift.........................................  SUCCESS
 · Check the internal registry is up and running...............  SUCCESS
 · Ensuring the 'developer-ocp' project does not exist.........  SUCCESS

[student@workstation php-helloworld]$ source /usr/local/etc/ocp4.config
[student@workstation php-helloworld]$ oc login -u ${RHT_OCP4_DEV_USER} -p  ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>

[student@workstation php-helloworld]$ oc new-project ${RHT_OCP4_DEV_USER}-ocp
Now using project "developer-ocp" on server "https://api.ocp4.example.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app rails-postgresql-example

to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=k8s.gcr.io/serve_hostname

[student@workstation php-helloworld]$ oc new-app  php:7.3~https://github.com/RedHatTraining/DO180-apps  --context-dir temps --name temps
--> Found image fff7ff0 (3 months old) in image stream "openshift/php" under tag "7.3" for "php:7.3"

    Apache 2.4 with PHP 7.3 
    ----------------------- 
    PHP 7.3 available as container is a base platform for building and running various PHP 7.3 applications and frameworks. PHP is an HTML-embedded scripting language. PHP attempts to make it easy for developers to write dynamically generated web pages. PHP also offers built-in database integration for several commercial and non-commercial database management systems, so writing a database-enabled webpage with PHP is fairly simple. The most common use of PHP coding is probably as a replacement for CGI scripts.

    Tags: builder, php, php73, rh-php73

    * A source build using source code from https://github.com/RedHatTraining/DO180-apps will be created
      * The resulting image will be pushed to image stream tag "temps:latest"
      * Use 'oc start-build' to trigger a new build

--> Creating resources ...
    imagestream.image.openshift.io "temps" created
    buildconfig.build.openshift.io "temps" created
    deployment.apps "temps" created
    service "temps" created
--> Success
    Build scheduled, use 'oc logs -f buildconfig/temps' to track its progress.
    Application is not exposed. You can expose services to the outside world by executing one or more of the commands below:
     'oc expose service/temps' 
    Run 'oc status' to view your app.
[student@workstation php-helloworld]$ oc logs -f bc/temps
Adding cluster TLS certificate authority to trust store
Cloning "https://github.com/RedHatTraining/DO180-apps" ...
	Commit:	f7cd8963ef353d9173c3a21dcccf402f3616840b (Initial commit, including all apps previously in course)
	Author:	Jordi Sola <someth2say@gmail.com>
	Date:	Fri Oct 4 13:04:03 2019 +0200
Adding cluster TLS certificate authority to trust store
Adding cluster TLS certificate authority to trust store
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying config sha256:fff7ff0b8ac76304da2e92b6c21efb9c03075146f1ff0fd4f7f255cd3cc3e971
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569
STEP 2: LABEL "io.openshift.build.commit.author"="Jordi Sola <someth2say@gmail.com>"       "io.openshift.build.commit.date"="Fri Oct 4 13:04:03 2019 +0200"       "io.openshift.build.commit.id"="f7cd8963ef353d9173c3a21dcccf402f3616840b"       "io.openshift.build.commit.ref"="master"       "io.openshift.build.commit.message"="Initial commit, including all apps previously in course"       "io.openshift.build.source-location"="https://github.com/RedHatTraining/DO180-apps"       "io.openshift.build.source-context-dir"="temps"       "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:c909f78a86779fa9d87d937b0a765d074cb5a3b2d34fd07266cb4fcfe1b7e569"
STEP 3: ENV OPENSHIFT_BUILD_NAME="temps-1"     OPENSHIFT_BUILD_NAMESPACE="developer-ocp"     OPENSHIFT_BUILD_SOURCE="https://github.com/RedHatTraining/DO180-apps"     OPENSHIFT_BUILD_COMMIT="f7cd8963ef353d9173c3a21dcccf402f3616840b"
STEP 4: USER root
STEP 5: COPY upload/src /tmp/src
STEP 6: RUN chown -R 1001:0 /tmp/src
time="2021-09-22T10:02:07Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2021-09-22T10:02:07Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
STEP 7: USER 1001
STEP 8: RUN /usr/libexec/s2i/assemble
time="2021-09-22T10:02:08Z" level=warning msg="Path \"/run/secrets/etc-pki-entitlement\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
time="2021-09-22T10:02:08Z" level=warning msg="Path \"/run/secrets/redhat.repo\" from \"/etc/containers/mounts.conf\" doesn't exist, skipping"
---> Installing application source...
=> sourcing 20-copy-config.sh ...
---> 10:02:08     Processing additional arbitrary httpd configuration provided by s2i ...
=> sourcing 00-documentroot.conf ...
=> sourcing 50-mpm-tuning.conf ...
=> sourcing 40-ssl-certs.sh ...
STEP 9: CMD /usr/libexec/s2i/run
STEP 10: COMMIT temp.builder.openshift.io/developer-ocp/temps-1:802ae7c9
Getting image source signatures
Copying blob sha256:01d2fb86653538b491b461c58ff5c3f5659c808d75efd99ba3ae4f1427db90ab
Copying blob sha256:9e12a51e507ab7be1c0b59578cbdbbdabe739d61ed8d4b70fb7644408ef97fa8
Copying blob sha256:62adab66aca00b517ea945ad5141f291cd6c486b393bcf80900c031d71df4094
Copying blob sha256:249169e7ab4c9425c24c485f1a72ea1af277afe58b5388ba8732efa919774b35
Copying blob sha256:10d4f57e839c1a8e22325ab7948ca9428d4d3abce276812a44103b59a7e05aab
Copying blob sha256:35cc3fbda9edf0b88f1dd38b4ed3c9e1275d1b56809829f2853341dd4cc0d5cd
Copying config sha256:bb07518151bbb86e77cb384bd21b1085684318f5bd59b688164231ab962c89ba
Writing manifest to image destination
Storing signatures
--> bb07518151b
bb07518151bbb86e77cb384bd21b1085684318f5bd59b688164231ab962c89ba

Pushing image image-registry.openshift-image-registry.svc:5000/developer-ocp/temps:latest ...
Getting image source signatures
Copying blob sha256:35cc3fbda9edf0b88f1dd38b4ed3c9e1275d1b56809829f2853341dd4cc0d5cd
Copying blob sha256:f8c518873786e7b92236e6abb32fb16c6ba09040dafd2b860ea79ebdcf10beaf
Copying blob sha256:ea028fb6761cebeea82e8313fd8f3b3763eef1beaa1f1d1b3ba828126d766ea1
Copying blob sha256:9b0c218cbfb1a6d2db936bec28fd826b10399ecb4e3db3cf3bf69ebb4c37bfa3
Copying blob sha256:93156a512b9854bb32007f4b7f7bb31f3ec271c86f5f20b7617a1b9e3e62577b
Copying blob sha256:d97064154091d2ee58f5ef88d8b27739257a3f10c9629399b166d49eb3d73bfe
Copying config sha256:bb07518151bbb86e77cb384bd21b1085684318f5bd59b688164231ab962c89ba
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/developer-ocp/temps@sha256:c270c5e71118fbd994f5639c56a2c768004c62693ecbf93c6fef770556cf8fca
Push successful
[student@workstation php-helloworld]$ oc get pods -w
NAME                  READY   STATUS      RESTARTS   AGE
temps-1-build         0/1     Completed   0          53s
temps-5cbbc88-zxsnv   1/1     Running     0          19s
^C[student@workstation php-helloworld]$ oc expose svc/temps
route.route.openshift.io/temps exposed
[student@workstation php-helloworld]$ oc get route/temps
NAME    HOST/PORT                                   PATH   SERVICES   PORT       TERMINATION   WILDCARD
temps   temps-developer-ocp.apps.ocp4.example.com          temps      8080-tcp                 None
[student@workstation php-helloworld]$ lab openshift-review grade

Grading the student's work for the Lab: Deploying Containerized Applications on OpenShift

 · Log in on OpenShift.........................................  SUCCESS
Accessing the web application..................................  PASS
[student@workstation php-helloworld]$ lab openshift-review finish

Completing the Lab: Deploying Containerized Applications on OpenShift

 · Log in on OpenShift.........................................  SUCCESS
 · Deleting the developer-ocp project..........................  SUCCESS
[student@workstation php-helloworld]$ lab multicontainer-application start

Setting up workstation for the Guided Exercise: Creating an Application on OpenShift

 · Checking podman configuration...............................  SUCCESS

 Verifying the OpenShift cluster is running:
 · Log in on OpenShift.........................................  SUCCESS
 · Check the internal registry is up and running...............  SUCCESS
 · Ensure application project does not exist...................  SUCCESS
 · Downloading starter project.................................  SUCCESS
 · Downloading solution project................................  SUCCESS

Setup successful. Please proceed with the exercise.


[student@workstation php-helloworld]$ source /usr/local/etc/ocp4.config
[student@workstation php-helloworld]$ oc login -u ${RHT_OCP4_DEV_USER}  -p ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>

[student@workstation php-helloworld]$ oc new-project ${RHT_OCP4_DEV_USER}-application
Now using project "developer-application" on server "https://api.ocp4.example.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app rails-postgresql-example

to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=k8s.gcr.io/serve_hostname

[student@workstation php-helloworld]$ cd /home/student/DO180/labs/multicontainer-application
[student@workstation multicontainer-application]$ ls -lrth
total 8.0K
-rw-rw-r--. 1 student student 1.8K Aug  5 11:44 todo-app.yml
-rw-rw-r--. 1 student student  300 Aug  5 11:44 db.sql
[student@workstation multicontainer-application]$ vi todo-app.yml 
[student@workstation multicontainer-application]$ oc create -f todo-app.yml
pod/mysql created
pod/todoapi created
service/todoapi created
service/mysql created
persistentvolumeclaim/dbclaim created
[student@workstation multicontainer-application]$ oc get pods -w
NAME      READY   STATUS              RESTARTS   AGE
mysql     0/1     ContainerCreating   0          14s
todoapi   0/1     ContainerCreating   0          14s
mysql     1/1     Running             0          30s
todoapi   1/1     Running             0          41s
[student@workstation multicontainer-application]$ oc port-forward mysql 3306:3306
Forwarding from 127.0.0.1:3306 -> 3306
Forwarding from [::1]:3306 -> 3306
E0922 06:33:42.864138   84184 portforward.go:233] lost connection to pod
[student@workstation multicontainer-application]$ oc expose service todoapi
route.route.openshift.io/todoapi exposed
[student@workstation multicontainer-application]$ oc status | grep -o "http:.*com"
http://todoapi-developer-application.apps.ocp4.example.com
[student@workstation multicontainer-application]$ curl -w "\n"  $(oc status | grep -o "http:.*com")/todo/api/items/1

<html><body><h1>504 Gateway Time-out</h1>
The server didn't respond in time.
</body></html>

[student@workstation multicontainer-application]$ 
[student@workstation multicontainer-application]$ curl -w "\n"  $(oc status | grep -o "http:.*com")/todo/api/items/1/
{"code":"ResourceNotFound","message":"/todo/api/items/1/; caused by Error: ENOENT: no such file or directory, stat '/opt/app-root/src/todo/api/items/1/'"}
[student@workstation multicontainer-application]$ oc port-forward mysql 3306:3306
Forwarding from 127.0.0.1:3306 -> 3306
Forwarding from [::1]:3306 -> 3306
Handling connection for 3306
^C[student@workstation multicontainer-application]curl -w "\n"  $(oc status | grep -o "http:.*com")/todo/api/items/1
{"id":1,"description":"Pick up newspaper","done":false}
[student@workstation multicontainer-application]$ curl -w "\n"  $(oc status | grep -o "http:.*com")/todo/api/items/2
{"id":2,"description":"Buy groceries","done":true}
[student@workstation multicontainer-application]$ curl -w "\n"  $(oc status | grep -o "http:.*com")/todo/api/items/3
{"code":"Internal","message":"Error: Nothing found for key 3"}
[student@workstation multicontainer-application]$ curl -w "\n"  $(oc status | grep -o "http:.*com")/todo/api/items/4
{"id":4,"description":"Checking24","done":true}
[student@workstation multicontainer-application]$ curl -w "\n"  $(oc status | grep -o "http:.*com")/todo/api/items/3
{"id":3,"description":"Checking23","done":true}
[student@workstation multicontainer-application]$ cd /home/student/
[student@workstation ~]$ lab multicontainer-application finish

Completing the Guided Exercise: Creating an Application on OpenShift

 · Log in on OpenShift.........................................  SUCCESS
 · Removing developer-application project......................  SUCCESS
 · Removing the project directory..............................  SUCCESS
 · Removing the solution directory.............................  SUCCESS
[student@workstation ~]$ 
[student@workstation ~]$ 
[student@workstation ~]$ oc whoami -t
sha256~t3vkb8WhooTzz3UemNLy8WzdDlzz3hjNZUCjGvDPEWs
[student@workstation ~]$ lab install-troubleshoot start

Checking prerequisites for Guided Exercise: Troubleshooting OpenShift Clusters and Applications

 Preparing the student's workstation:
 · Download exercise files.....................................  SUCCESS
 Verify the OpenShift cluster is running:
 · Router pods are available...................................  SUCCESS
 · OAuth pods are available....................................  SUCCESS
 · API pods are available......................................  SUCCESS
 · Control plane node 'master01' is ready......................  SUCCESS
 · Control plane node 'master02' is ready......................  SUCCESS
 · Control plane node 'master03' is ready......................  SUCCESS
 · Restarting package server...................................  SUCCESS
 Checking for conflicts with existing OpenShift projects:
 · The 'install-troubleshoot' project is absent................  SUCCESS

Setting up the classroom for Guided Exercise: Troubleshooting OpenShift Clusters and Applications

 Restoring authentication settings to installation defaults:
 · Removing 'cluster-admin' role from the 'admin' user.........  SUCCESS
 · Remove HTPasswd secret: 'localusers'........................  SUCCESS
 · Remove all configured Identity Providers....................  SUCCESS
 · Remove all existing users...................................  SUCCESS
 · Remove all existing identities..............................  SUCCESS
 Preparing the exercise:
 · Create project 'install-troubleshoot'.......................  SUCCESS
 · Deploy PostgreSQL in 'install-troubleshoot'.................  SUCCESS

Overall start status...........................................  SUCCESS

[student@workstation ~]$ source /usr/local/etc/ocp4.config
[student@workstation ~]$ oc login -u kubeadmin -p ${RHT_OCP4_KUBEADM_PASSWD}  https://api.ocp4.example.com:6443
Login successful.

You have access to 61 projects, the list has been suppressed. You can list all projects with ' projects'

Using project "default".
[student@workstation ~]$ oc get nodes
NAME       STATUS   ROLES           AGE   VERSION
master01   Ready    master,worker   71d   v1.19.0+b00ba52
master02   Ready    master,worker   71d   v1.19.0+b00ba52
master03   Ready    master,worker   71d   v1.19.0+b00ba52
[student@workstation ~]$ oc adm top node
NAME       CPU(cores)   CPU%   MEMORY(bytes)   MEMORY%   
master01   1395m        39%    7555Mi          50%       
master02   1418m        40%    6162Mi          41%       
master03   788m         22%    6658Mi          44%       
[student@workstation ~]$ oc describe node master01
Name:               master01
Roles:              master,worker
Labels:             beta.kubernetes.io/arch=amd64
                    beta.kubernetes.io/os=linux
                    kubernetes.io/arch=amd64
                    kubernetes.io/hostname=master01
                    kubernetes.io/os=linux
                    node-role.kubernetes.io/master=
                    node-role.kubernetes.io/worker=
                    node.openshift.io/os_id=rhcos
Annotations:        machineconfiguration.openshift.io/currentConfig: rendered-master-4bed64fd1ffb33f05ee7b0d5deda01e8
                    machineconfiguration.openshift.io/desiredConfig: rendered-master-4bed64fd1ffb33f05ee7b0d5deda01e8
                    machineconfiguration.openshift.io/reason: 
                    machineconfiguration.openshift.io/state: Done
                    volumes.kubernetes.io/controller-managed-attach-detach: true
CreationTimestamp:  Tue, 13 Jul 2021 08:14:41 -0400
Taints:             <none>
Unschedulable:      false
Lease:
  HolderIdentity:  master01
  AcquireTime:     <unset>
  RenewTime:       Thu, 23 Sep 2021 02:46:33 -0400
Conditions:
  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message
  ----             ------  -----------------                 ------------------                ------                       -------
  MemoryPressure   False   Thu, 23 Sep 2021 02:43:43 -0400   Sun, 19 Sep 2021 20:51:49 -0400   KubeletHasSufficientMemory   kubelet has sufficient memory available
  DiskPressure     False   Thu, 23 Sep 2021 02:43:43 -0400   Sun, 19 Sep 2021 20:51:49 -0400   KubeletHasNoDiskPressure     kubelet has no disk pressure
  PIDPressure      False   Thu, 23 Sep 2021 02:43:43 -0400   Sun, 19 Sep 2021 20:51:49 -0400   KubeletHasSufficientPID      kubelet has sufficient PID available
  Ready            True    Thu, 23 Sep 2021 02:43:43 -0400   Sun, 19 Sep 2021 20:51:49 -0400   KubeletReady                 kubelet is posting ready status
Addresses:
  InternalIP:  192.168.50.10
  Hostname:    master01
Capacity:
  cpu:                4
  ephemeral-storage:  41391084Ki
  hugepages-1Gi:      0
  hugepages-2Mi:      0
  memory:             16419132Ki
  pods:               250
Allocatable:
  cpu:                3500m
  ephemeral-storage:  37072281128
  hugepages-1Gi:      0
  hugepages-2Mi:      0
  memory:             15268156Ki
  pods:               250
System Info:
  Machine ID:                                       262632aa4d8943c8a494510d13d9ef20
  System UUID:                                      8b866d52-3dc0-4815-bf07-048e6d58d69d
  Boot ID:                                          960de0ae-12e9-47e5-8d26-99cf7dffb1ac
  Kernel Version:                                   4.18.0-193.56.1.el8_2.x86_64
  OS Image:                                         Red Hat Enterprise Linux CoreOS 46.82.202106181041-0 (Ootpa)
  Operating System:                                 linux
  Architecture:                                     amd64
  Container Runtime Version:                        cri-o://1.19.2-6.rhaos4.6.git686e6d9.el8
  Kubelet Version:                                  v1.19.0+b00ba52
  Kube-Proxy Version:                               v1.19.0+b00ba52
Non-terminated Pods:                                (63 in total)
  Namespace                                         Name                                                       CPU Requests  CPU Limits  Memory Requests  Memory Limits  AGE
  ---------                                         ----                                                       ------------  ----------  ---------------  -------------  ---
  install-troubleshoot                              psql-578f78ccb-tpd92                                       0 (0%)        0 (0%)      512Mi (3%)       512Mi (3%)     104s
  openshift-apiserver-operator                      openshift-apiserver-operator-d7794c59-mtgws                10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-apiserver                               apiserver-648cb74f5-5bmsm                                  110m (3%)     0 (0%)      250Mi (1%)       0 (0%)         71d
  openshift-authentication-operator                 authentication-operator-5d6d9ccf9-gc48v                    10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-authentication                          oauth-openshift-6dcc9dd574-qgj68                           10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         84s
  openshift-cloud-credential-operator               cloud-credential-operator-57d864c9db-6zk77                 20m (0%)      0 (0%)      170Mi (1%)       0 (0%)         71d
  openshift-cluster-machine-approver                machine-approver-7bb77c69fb-mbjkg                          20m (0%)      0 (0%)      70Mi (0%)        0 (0%)         71d
  openshift-cluster-node-tuning-operator            cluster-node-tuning-operator-7c77c8c474-x5bjc              10m (0%)      0 (0%)      20Mi (0%)        0 (0%)         71d
  openshift-cluster-node-tuning-operator            tuned-c5hxb                                                10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-cluster-storage-operator                cluster-storage-operator-d8bc58d56-srnhw                   10m (0%)      0 (0%)      20Mi (0%)        0 (0%)         71d
  openshift-cluster-storage-operator                csi-snapshot-controller-operator-5958cd84bf-thlxt          10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-cluster-version                         cluster-version-operator-7dbc9ffd8f-5zs5d                  20m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-config-operator                         openshift-config-operator-585c7fcffc-mrszx                 10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-console                                 console-9ffc87665-vxv5s                                    10m (0%)      0 (0%)      100Mi (0%)       0 (0%)         71d
  openshift-console                                 downloads-6c8dc98f8c-s6wnj                                 10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-controller-manager-operator             openshift-controller-manager-operator-5b84d994b4-kq5nd     10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-controller-manager                      controller-manager-kbghv                                   100m (2%)     0 (0%)      100Mi (0%)       0 (0%)         3d5h
  openshift-dns-operator                            dns-operator-596bb8df74-cjcvw                              20m (0%)      0 (0%)      40Mi (0%)        0 (0%)         71d
  openshift-dns                                     dns-default-ptfpt                                          65m (1%)      0 (0%)      110Mi (0%)       512Mi (3%)     71d
  openshift-etcd-operator                           etcd-operator-7f558f5c-jhk6r                               10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-etcd                                    etcd-master01                                              430m (12%)    0 (0%)      860Mi (5%)       0 (0%)         71d
  openshift-etcd                                    etcd-quorum-guard-5bf678d57c-p6l4m                         10m (0%)      0 (0%)      5Mi (0%)         0 (0%)         71d
  openshift-image-registry                          cluster-image-registry-operator-64687b967c-4wbs4           10m (0%)      0 (0%)      0 (0%)           0 (0%)         71d
  openshift-image-registry                          image-registry-cdd95f488-blcc4                             100m (2%)     0 (0%)      256Mi (1%)       0 (0%)         71d
  openshift-image-registry                          node-ca-6vzwk                                              10m (0%)      0 (0%)      10Mi (0%)        0 (0%)         71d
  openshift-ingress-operator                        ingress-operator-7f6bf4f94b-2vtp4                          20m (0%)      0 (0%)      40Mi (0%)        0 (0%)         71d
  openshift-ingress                                 router-default-649b9b8b5b-pnkdk                            100m (2%)     0 (0%)      256Mi (1%)       0 (0%)         71d
  openshift-insights                                insights-operator-7d64b8d78d-csm42                         10m (0%)      0 (0%)      30Mi (0%)        0 (0%)         71d
  openshift-kube-apiserver-operator                 kube-apiserver-operator-597fb95665-gpf98                   10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-kube-apiserver                          kube-apiserver-master01                                    340m (9%)     0 (0%)      1224Mi (8%)      0 (0%)         3d5h
  openshift-kube-controller-manager-operator        kube-controller-manager-operator-7c87b5f4df-pdmkq          10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-kube-controller-manager                 kube-controller-manager-master01                           100m (2%)     0 (0%)      500Mi (3%)       0 (0%)         71d
  openshift-kube-scheduler                          openshift-kube-scheduler-master01                          25m (0%)      0 (0%)      150Mi (1%)       0 (0%)         71d
  openshift-kube-storage-version-migrator-operator  kube-storage-version-migrator-operator-74f5bcf9b7-npqrq    10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-machine-api                             machine-api-operator-865894b88c-qgnwv                      20m (0%)      0 (0%)      70Mi (0%)        0 (0%)         71d
  openshift-machine-config-operator                 machine-config-controller-764c56ff74-kh9n9                 20m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-machine-config-operator                 machine-config-daemon-h25rx                                40m (1%)      0 (0%)      100Mi (0%)       0 (0%)         71d
  openshift-machine-config-operator                 machine-config-operator-7db9c4b447-vmhf8                   20m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-machine-config-operator                 machine-config-server-49vxx                                20m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-marketplace                             certified-operators-b8jfz                                  10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         10h
  openshift-marketplace                             marketplace-operator-89d564b4f-bldm6                       10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-monitoring                              alertmanager-main-0                                        8m (0%)       0 (0%)      270Mi (1%)       0 (0%)         71d
  openshift-monitoring                              alertmanager-main-1                                        8m (0%)       0 (0%)      270Mi (1%)       0 (0%)         71d
  openshift-monitoring                              cluster-monitoring-operator-78cd56b95d-z59zm               11m (0%)      0 (0%)      70Mi (0%)        0 (0%)         71d
  openshift-monitoring                              kube-state-metrics-5db8c78f5f-g9wdl                        4m (0%)       0 (0%)      120Mi (0%)       0 (0%)         71d
  openshift-monitoring                              node-exporter-2mvll                                        9m (0%)       0 (0%)      210Mi (1%)       0 (0%)         71d
  openshift-monitoring                              openshift-state-metrics-7cf4dc694b-2fffp                   3m (0%)       0 (0%)      190Mi (1%)       0 (0%)         71d
  openshift-monitoring                              prometheus-adapter-bfd64db69-kg9vw                         1m (0%)       0 (0%)      25Mi (0%)        0 (0%)         3d5h
  openshift-monitoring                              prometheus-k8s-1                                           75m (2%)      0 (0%)      1194Mi (8%)      0 (0%)         71d
  openshift-monitoring                              thanos-querier-7cf98f7dd7-6c5tp                            9m (0%)       0 (0%)      92Mi (0%)        0 (0%)         71d
  openshift-multus                                  multus-2p4cw                                               10m (0%)      0 (0%)      150Mi (1%)       0 (0%)         71d
  openshift-multus                                  multus-admission-controller-nztb7                          20m (0%)      0 (0%)      20Mi (0%)        0 (0%)         71d
  openshift-multus                                  network-metrics-daemon-55c8x                               20m (0%)      0 (0%)      120Mi (0%)       0 (0%)         71d
  openshift-network-operator                        network-operator-74bcdc4b54-r8bfp                          10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-oauth-apiserver                         apiserver-6b9b557cdd-97nz4                                 150m (4%)     0 (0%)      200Mi (1%)       0 (0%)         71d
  openshift-operator-lifecycle-manager              catalog-operator-68545cd776-4w7nq                          10m (0%)      0 (0%)      80Mi (0%)        0 (0%)         71d
  openshift-operator-lifecycle-manager              olm-operator-5cdd58ddc-sszf6                               10m (0%)      0 (0%)      160Mi (1%)       0 (0%)         71d
  openshift-operator-lifecycle-manager              packageserver-567bcb8595-kmwg6                             10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         2m
  openshift-sdn                                     ovs-kt9cl                                                  100m (2%)     0 (0%)      400Mi (2%)       0 (0%)         71d
  openshift-sdn                                     sdn-4bm8x                                                  110m (3%)     0 (0%)      220Mi (1%)       0 (0%)         71d
  openshift-sdn                                     sdn-controller-8smdz                                       10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-service-ca-operator                     service-ca-operator-67b8cddc96-p56gq                       10m (0%)      0 (0%)      80Mi (0%)        0 (0%)         71d
  openshift-service-ca                              service-ca-665fb97685-hmnhd                                10m (0%)      0 (0%)      120Mi (0%)       0 (0%)         71d
Allocated resources:
  (Total limits may be over 100 percent, i.e., overcommitted.)
  Resource           Requests      Limits
  --------           --------      ------
  cpu                2408m (68%)   0 (0%)
  memory             9934Mi (66%)  1Gi (6%)
  ephemeral-storage  0 (0%)        0 (0%)
  hugepages-1Gi      0 (0%)        0 (0%)
  hugepages-2Mi      0 (0%)        0 (0%)
Events:              <none>
[student@workstation ~]$ oc get pod -n openshift-image-registry
NAME                                               READY   STATUS      RESTARTS   AGE
cluster-image-registry-operator-64687b967c-4wbs4   1/1     Running     0          71d
image-pruner-1632096000-qght2                      0/1     Error       0          3d5h
image-pruner-1632182400-f2q8h                      0/1     Completed   0          2d6h
image-pruner-1632268800-kl924                      0/1     Completed   0          30h
image-pruner-1632355200-t9pcl                      0/1     Completed   0          6h47m
image-registry-cdd95f488-blcc4                     1/1     Running     0          71d
node-ca-4v6fp                                      1/1     Running     0          71d
node-ca-6vzwk                                      1/1     Running     0          71d
node-ca-jrwt6                                      1/1     Running     0          71d
[student@workstation ~]$ oc logs --tail 3 -n openshift-image-registry  cluster-image-registry-operator-64687b967c-4wbs4
I0923 06:49:04.578457       1 controllerimagepruner.go:323] event from image pruner workqueue successfully processed
I0923 06:49:04.579040       1 imageregistrycertificates.go:97] ImageRegistryCertificatesController: event from workqueue successfully processed
I0923 06:49:04.609137       1 controller.go:333] event from workqueue successfully processed
[student@workstation ~]$ oc logs --tail 1 -n openshift-image-registry  image-registry-cdd95f488-blcc4
time="2021-09-23T06:50:03.877692192Z" level=info msg=response go.version=go1.15.7 http.request.host="10.8.0.34:5000" http.request.id=29a8628b-82b0-470f-8e1d-668fdcbd7e5e http.request.method=GET http.request.remoteaddr="10.8.0.1:36422" http.request.uri=/healthz http.request.useragent=kube-probe/1.19 http.response.duration="50.717µs" http.response.status=200 http.response.written=0
[student@workstation ~]$ oc adm node-logs --tail 1 -u kubelet master01
Data from the specified boot (-1) is not available: No such boot ID in journal
-- Logs begin at Tue 2021-09-21 15:03:42 UTC, end at Thu 2021-09-23 06:50:29 UTC. --
Sep 23 06:50:29.428870 master01 hyperkube[1954]: I0923 06:50:29.428817    1954 prober.go:126] Readiness probe for "openshift-config-operator-585c7fcffc-mrszx_openshift-config-operator(044e699f-ec87-40dc-bc4b-aefed876697f):openshift-config-operator" succeeded
[student@workstation ~]$ oc debug node/master01
Starting pod/master01-debug ...
To use host binaries, run `chroot /host`
Pod IP: 192.168.50.10
If you don't see a command prompt, try pressing enter.
sh-4.4# chroot /host
sh-4.4# systemctl status kubelet
Warning: The unit file, source configuration file or drop-ins of kubelet.service changed on disk. Run 'systemctl>
● kubelet.service - Kubernetes Kubelet
   Loaded: loaded (/etc/systemd/system/kubelet.service; enabled; vendor preset: enabled)
  Drop-In: /etc/systemd/system/kubelet.service.d
           └─10-mco-default-env.conf, 20-nodenet.conf
   Active: active (running) since Mon 2021-09-20 00:46:43 UTC; 3 days ago
  Process: 1952 ExecStartPre=/bin/rm -f /var/lib/kubelet/cpu_manager_state (code=exited, status=0/SUCCESS)
  Process: 1950 ExecStartPre=/bin/mkdir --parents /etc/kubernetes/manifests (code=exited, status=0/SUCCESS)
 Main PID: 1954 (kubelet)
    Tasks: 66 (limit: 102075)
   Memory: 801.5M
      CPU: 16h 14min 6.313s
   CGroup: /system.slice/kubelet.service
           └─1954 kubelet --config=/etc/kubernetes/kubelet.conf --bootstrap-kubeconfig=/etc/kubernetes/kubeconfi>

Sep 23 06:51:49 master01 hyperkube[1954]: I0923 06:51:49.740951    1954 secret.go:183] Setting up volume thanos->
Sep 23 06:51:49 master01 hyperkube[1954]: I0923 06:51:49.741057    1954 secret.go:207] Received secret openshift>
Sep 23 06:51:49 master01 hyperkube[1954]: I0923 06:51:49.741060    1954 secret.go:183] Setting up volume secret->
Sep 23 06:51:49 master01 hyperkube[1954]: I0923 06:51:49.741092    1954 secret.go:207] Received secret openshift>
Sep 23 06:51:49 master01 hyperkube[1954]: I0923 06:51:49.741453    1954 secret.go:183] Setting up volume secret->
Sep 23 06:51:49 master01 hyperkube[1954]: I0923 06:51:49.741519    1954 secret.go:207] Received secret openshift>
Sep 23 06:51:49 master01 hyperkube[1954]: I0923 06:51:49.914695    1954 prober.go:126] Readiness probe for "cata>
Sep 23 06:51:50 master01 hyperkube[1954]: I0923 06:51:50.023754    1954 prober.go:126] Liveness probe for "kube->
Sep 23 06:51:50 master01 hyperkube[1954]: I0923 06:51:50.065571    1954 prober.go:126] Readiness probe for "rout>
Sep 23 06:51:50 master01 hyperkube[1954]: I0923 06:51:50.311800    1954 prober.go:126] Readiness probe for "sdn->
sh-4.4# crictl ps --name openvswitch
CONTAINER           IMAGE                                                              CREATED             STATE               NAME                ATTEMPT             POD ID
a630d16ffb848       9bb05b231acb6f19a695fa36900bd0148e7f6bdbaf253c7bbd5c20f1c971cae2   3 days ago          Running             openvswitch         0                   df4facec58afc
sh-4.4# exit
exit
sh-4.4# exit
exit

Removing debug pod ...
[student@workstation ~]$ oc project install-troubleshoot
Now using project "install-troubleshoot" on server "https://api.ocp4.example.com:6443".
[student@workstation ~]$ oc get pod
NAME                   READY   STATUS             RESTARTS   AGE
psql-578f78ccb-tpd92   0/1     ImagePullBackOff   0          8m16s
[student@workstation ~]$ oc status
In project install-troubleshoot on server https://api.ocp4.example.com:6443

svc/psql - 172.30.148.44:5432

deployment/psql deploys registry.redhat.io/rhel8/postgresq-13:1
  deployment #1 running for 8 minutes - 0/1 pods

View details with 'oc describe <resource>/<name>' or list resources with 'oc get all'.
[student@workstation ~]$ oc get events
LAST SEEN   TYPE      REASON              OBJECT                      MESSAGE
8m50s       Normal    Scheduled           pod/psql-578f78ccb-tpd92    Successfully assigned install-troubleshoot/psql-578f78ccb-tpd92 to master01
8m48s       Normal    AddedInterface      pod/psql-578f78ccb-tpd92    Add eth0 [10.8.1.192/23]
7m14s       Normal    Pulling             pod/psql-578f78ccb-tpd92    Pulling image "registry.redhat.io/rhel8/postgresq-13:1"
7m13s       Warning   Failed              pod/psql-578f78ccb-tpd92    Failed to pull image "registry.redhat.io/rhel8/postgresq-13:1": rpc error: code = Unknown desc = Error reading manifest 1 in registry.redhat.io/rhel8/postgresq-13: unknown: Not Found
7m13s       Warning   Failed              pod/psql-578f78ccb-tpd92    Error: ErrImagePull
7m          Normal    BackOff             pod/psql-578f78ccb-tpd92    Back-off pulling image "registry.redhat.io/rhel8/postgresq-13:1"
3m42s       Warning   Failed              pod/psql-578f78ccb-tpd92    Error: ImagePullBackOff
8m50s       Normal    SuccessfulCreate    replicaset/psql-578f78ccb   Created pod: psql-578f78ccb-tpd92
8m50s       Normal    ScalingReplicaSet   deployment/psql             Scaled up replica set psql-578f78ccb to 1
[student@workstation ~]$ podman login registry.redhat.io
Authenticating with existing credentials...
Existing credentials are valid. Already logged in to registry.redhat.io
[student@workstation ~]$ skopeo inspect  docker://registry.redhat.io/rhel8/postgresq-13:1
FATA[0000] Error parsing image name "docker://registry.redhat.io/rhel8/postgresq-13:1": Error reading manifest 1 in registry.redhat.io/rhel8/postgresq-13: unknown: Not Found 
[student@workstation ~]$ skopeo inspect  docker://registry.redhat.io/rhel8/postgresql-13:1
{
    "Name": "registry.redhat.io/rhel8/postgresql-13",
    "Digest": "sha256:0ad50e15d226f234a3fff56d0f9afe2c085dfee370e905238ff67caa6045e6f2",
    "RepoTags": [
        "1-8",
        "1-7-source",
        "1-21-source",
        "1-10-source",
        "1-21",
        "1-18-source",
        "1",
        "1-10.1626836544-source",
        "1-10",
        "1-7",
        "1-10.1626836544",
        "1-18",
        "1-8-source",
        "latest"
    ],
    "Created": "2021-09-15T08:10:35.971215Z",
    "DockerVersion": "1.13.1",
    "Labels": {
        "architecture": "x86_64",
        "build-date": "2021-09-15T08:08:32.278621",
        "com.redhat.build-host": "cpt-1008.osbs.prod.upshift.rdu2.redhat.com",
        "com.redhat.component": "postgresql-13-container",
        "com.redhat.license_terms": "https://www.redhat.com/agreements",
        "description": "PostgreSQL is an advanced Object-Relational database management system (DBMS). The image contains the client and server programs that you'll need to create, run, maintain and access a PostgreSQL DBMS server.",
        "distribution-scope": "public",
        "io.k8s.description": "PostgreSQL is an advanced Object-Relational database management system (DBMS). The image contains the client and server programs that you'll need to create, run, maintain and access a PostgreSQL DBMS server.",
        "io.k8s.display-name": "PostgreSQL 13",
        "io.openshift.expose-services": "5432:postgresql",
        "io.openshift.s2i.assemble-user": "26",
        "io.openshift.s2i.scripts-url": "image:///usr/libexec/s2i",
        "io.openshift.tags": "database,postgresql,postgresql13,postgresql-13",
        "io.s2i.scripts-url": "image:///usr/libexec/s2i",
        "maintainer": "SoftwareCollections.org \u003csclorg@redhat.com\u003e",
        "name": "rhel8/postgresql-13",
        "release": "21",
        "summary": "PostgreSQL is an advanced Object-Relational database management system",
        "url": "https://access.redhat.com/containers/#/registry.access.redhat.com/rhel8/postgresql-13/images/1-21",
        "usage": "podman run -d --name postgresql_database -e POSTGRESQL_USER=user -e POSTGRESQL_PASSWORD=pass -e POSTGRESQL_DATABASE=db -p 5432:5432 rhel8/postgresql-13",
        "vcs-ref": "d8b562c17e1923aa9ac1fd0aefcadb5d8650c8df",
        "vcs-type": "git",
        "vendor": "Red Hat, Inc.",
        "version": "1"
    },
    "Architecture": "amd64",
    "Os": "linux",
    "Layers": [
        "sha256:262268b65bd5f33784d6a61514964887bc18bc00c60c588bc62bfae7edca46f1",
        "sha256:06038631a24a25348b51d1bfc7d0a0ee555552a8998f8328f9b657d02dd4c64c",
        "sha256:44115d860fcecaa250b811cc4120d7ba18a2250bada1fe15199de53cefde7fc7",
        "sha256:90f1473ce51eb4bfda336491c7987f3422632772255fc47a349fca014d74205a"
    ],
    "Env": [
        "PATH=/opt/app-root/src/bin:/opt/app-root/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
        "container=oci",
        "SUMMARY=PostgreSQL is an advanced Object-Relational database management system",
        "DESCRIPTION=PostgreSQL is an advanced Object-Relational database management system (DBMS). The image contains the client and server programs that you'll need to create, run, maintain and access a PostgreSQL DBMS server.",
        "STI_SCRIPTS_URL=image:///usr/libexec/s2i",
        "STI_SCRIPTS_PATH=/usr/libexec/s2i",
        "APP_ROOT=/opt/app-root",
        "HOME=/var/lib/pgsql",
        "PLATFORM=el8",
        "POSTGRESQL_VERSION=13",
        "PGUSER=postgres",
        "APP_DATA=/opt/app-root",
        "CONTAINER_SCRIPTS_PATH=/usr/share/container-scripts/postgresql",
        "ENABLED_COLLECTIONS="
    ]
}
[student@workstation ~]$ oc edit deployment/psql
deployment.apps/psql edited
[student@workstation ~]$ oc status
In project install-troubleshoot on server https://api.ocp4.example.com:6443

svc/psql - 172.30.148.44:5432

deployment/psql deploys registry.redhat.io/rhel8/postgresql-13:1
  deployment #2 running for 11 seconds - 0/1 pods
  deployment #1 deployed 12 minutes ago - 0/1 pods

View details with 'oc describe <resource>/<name>' or list resources with 'oc get all'.
[student@workstation ~]$ oc get pods
NAME                    READY   STATUS    RESTARTS   AGE
psql-5b6c5c77f6-4czfc   1/1     Running   0          31s
[student@workstation ~]$ oc describe node master02
Name:               master02
Roles:              master,worker
Labels:             beta.kubernetes.io/arch=amd64
                    beta.kubernetes.io/os=linux
                    kubernetes.io/arch=amd64
                    kubernetes.io/hostname=master02
                    kubernetes.io/os=linux
                    node-role.kubernetes.io/master=
                    node-role.kubernetes.io/worker=
                    node.openshift.io/os_id=rhcos
Annotations:        machineconfiguration.openshift.io/currentConfig: rendered-master-4bed64fd1ffb33f05ee7b0d5deda01e8
                    machineconfiguration.openshift.io/desiredConfig: rendered-master-4bed64fd1ffb33f05ee7b0d5deda01e8
                    machineconfiguration.openshift.io/reason: 
                    machineconfiguration.openshift.io/state: Done
                    volumes.kubernetes.io/controller-managed-attach-detach: true
CreationTimestamp:  Tue, 13 Jul 2021 08:14:42 -0400
Taints:             <none>
Unschedulable:      false
Lease:
  HolderIdentity:  master02
  AcquireTime:     <unset>
  RenewTime:       Thu, 23 Sep 2021 02:58:41 -0400
Conditions:
  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message
  ----             ------  -----------------                 ------------------                ------                       -------
  MemoryPressure   False   Thu, 23 Sep 2021 02:57:51 -0400   Wed, 28 Jul 2021 07:46:43 -0400   KubeletHasSufficientMemory   kubelet has sufficient memory available
  DiskPressure     False   Thu, 23 Sep 2021 02:57:51 -0400   Wed, 28 Jul 2021 07:46:43 -0400   KubeletHasNoDiskPressure     kubelet has no disk pressure
  PIDPressure      False   Thu, 23 Sep 2021 02:57:51 -0400   Wed, 28 Jul 2021 07:46:43 -0400   KubeletHasSufficientPID      kubelet has sufficient PID available
  Ready            True    Thu, 23 Sep 2021 02:57:51 -0400   Wed, 28 Jul 2021 07:46:43 -0400   KubeletReady                 kubelet is posting ready status
Addresses:
  InternalIP:  192.168.50.11
  Hostname:    master02
Capacity:
  cpu:                4
  ephemeral-storage:  41391084Ki
  hugepages-1Gi:      0
  hugepages-2Mi:      0
  memory:             16419132Ki
  pods:               250
Allocatable:
  cpu:                3500m
  ephemeral-storage:  37072281128
  hugepages-1Gi:      0
  hugepages-2Mi:      0
  memory:             15268156Ki
  pods:               250
System Info:
  Machine ID:                              2a617cfe43cd4f148d11972edcb254b7
  System UUID:                             029f1b9f-c6b0-451b-b62d-727b45a33451
  Boot ID:                                 da8c2eee-6b3e-439d-94c1-82accdf8f7d2
  Kernel Version:                          4.18.0-193.56.1.el8_2.x86_64
  OS Image:                                Red Hat Enterprise Linux CoreOS 46.82.202106181041-0 (Ootpa)
  Operating System:                        linux
  Architecture:                            amd64
  Container Runtime Version:               cri-o://1.19.2-6.rhaos4.6.git686e6d9.el8
  Kubelet Version:                         v1.19.0+b00ba52
  Kube-Proxy Version:                      v1.19.0+b00ba52
Non-terminated Pods:                       (39 in total)
  Namespace                                Name                                                  CPU Requests  CPU Limits  Memory Requests  Memory Limits  AGE
  ---------                                ----                                                  ------------  ----------  ---------------  -------------  ---
  install-troubleshoot                     psql-5b6c5c77f6-4czfc                                 0 (0%)        0 (0%)      512Mi (3%)       512Mi (3%)     92s
  nfs-client-provisioner                   nfs-client-provisioner-699dc7cc94-sfskb               0 (0%)        0 (0%)      0 (0%)           0 (0%)         71d
  openshift-apiserver                      apiserver-648cb74f5-r7sfj                             110m (3%)     0 (0%)      250Mi (1%)       0 (0%)         71d
  openshift-cluster-node-tuning-operator   tuned-29kjw                                           10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-cluster-samples-operator       cluster-samples-operator-848dc4847-s5g4m              20m (0%)      0 (0%)      0 (0%)           0 (0%)         71d
  openshift-cluster-storage-operator       csi-snapshot-controller-7dfb5494c6-c8trh              10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-console-operator               console-operator-7567c94c5c-fzjwr                     10m (0%)      0 (0%)      100Mi (0%)       0 (0%)         71d
  openshift-console                        console-9ffc87665-7fwnt                               10m (0%)      0 (0%)      100Mi (0%)       0 (0%)         71d
  openshift-console                        downloads-6c8dc98f8c-jrpm7                            10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-controller-manager             controller-manager-f766w                              100m (2%)     0 (0%)      100Mi (0%)       0 (0%)         3d6h
  openshift-dns                            dns-default-bj8qt                                     65m (1%)      0 (0%)      110Mi (0%)       512Mi (3%)     71d
  openshift-etcd                           etcd-master02                                         430m (12%)    0 (0%)      860Mi (5%)       0 (0%)         71d
  openshift-etcd                           etcd-quorum-guard-5bf678d57c-jfwr6                    10m (0%)      0 (0%)      5Mi (0%)         0 (0%)         71d
  openshift-image-registry                 node-ca-4v6fp                                         10m (0%)      0 (0%)      10Mi (0%)        0 (0%)         71d
  openshift-ingress                        router-default-649b9b8b5b-mlbgd                       100m (2%)     0 (0%)      256Mi (1%)       0 (0%)         71d
  openshift-kube-apiserver                 kube-apiserver-master02                               340m (9%)     0 (0%)      1224Mi (8%)      0 (0%)         3d6h
  openshift-kube-controller-manager        kube-controller-manager-master02                      100m (2%)     0 (0%)      500Mi (3%)       0 (0%)         71d
  openshift-kube-scheduler-operator        openshift-kube-scheduler-operator-7bf495596f-fv8fq    0 (0%)        0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-kube-scheduler                 openshift-kube-scheduler-master02                     25m (0%)      0 (0%)      150Mi (1%)       0 (0%)         71d
  openshift-kube-storage-version-migrator  migrator-858cfc6f4c-5zn5c                             100m (2%)     0 (0%)      200Mi (1%)       0 (0%)         71d
  openshift-machine-api                    cluster-autoscaler-operator-689b46d9c8-gpxq7          30m (0%)      0 (0%)      70Mi (0%)        0 (0%)         71d
  openshift-machine-config-operator        machine-config-daemon-df76g                           40m (1%)      0 (0%)      100Mi (0%)       0 (0%)         71d
  openshift-machine-config-operator        machine-config-server-87dq9                           20m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-marketplace                    redhat-operators-bmmgh                                10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         8h
  openshift-monitoring                     alertmanager-main-2                                   8m (0%)       0 (0%)      270Mi (1%)       0 (0%)         71d
  openshift-monitoring                     grafana-f9c9ccb65-5g6vp                               5m (0%)       0 (0%)      120Mi (0%)       0 (0%)         71d
  openshift-monitoring                     node-exporter-vn4sr                                   9m (0%)       0 (0%)      210Mi (1%)       0 (0%)         71d
  openshift-monitoring                     prometheus-adapter-bfd64db69-hjtl6                    1m (0%)       0 (0%)      25Mi (0%)        0 (0%)         3d6h
  openshift-monitoring                     prometheus-k8s-0                                      75m (2%)      0 (0%)      1194Mi (8%)      0 (0%)         71d
  openshift-monitoring                     prometheus-operator-7ccb887947-j6w4g                  6m (0%)       0 (0%)      100Mi (0%)       0 (0%)         71d
  openshift-monitoring                     thanos-querier-7cf98f7dd7-6vrhq                       9m (0%)       0 (0%)      92Mi (0%)        0 (0%)         71d
  openshift-multus                         multus-admission-controller-j5pdm                     20m (0%)      0 (0%)      20Mi (0%)        0 (0%)         71d
  openshift-multus                         multus-nbmcq                                          10m (0%)      0 (0%)      150Mi (1%)       0 (0%)         71d
  openshift-multus                         network-metrics-daemon-s2l8p                          20m (0%)      0 (0%)      120Mi (0%)       0 (0%)         71d
  openshift-oauth-apiserver                apiserver-6b9b557cdd-k4z4d                            150m (4%)     0 (0%)      200Mi (1%)       0 (0%)         71d
  openshift-operator-lifecycle-manager     packageserver-567bcb8595-jt52q                        10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         14m
  openshift-sdn                            ovs-k5wqr                                             100m (2%)     0 (0%)      400Mi (2%)       0 (0%)         71d
  openshift-sdn                            sdn-controller-jqk2m                                  10m (0%)      0 (0%)      50Mi (0%)        0 (0%)         71d
  openshift-sdn                            sdn-zz2hc                                             110m (3%)     0 (0%)      220Mi (1%)       0 (0%)         71d
Allocated resources:
  (Total limits may be over 100 percent, i.e., overcommitted.)
  Resource           Requests      Limits
  --------           --------      ------
  cpu                2103m (60%)   0 (0%)
  memory             8068Mi (54%)  1Gi (6%)
  ephemeral-storage  0 (0%)        0 (0%)
  hugepages-1Gi      0 (0%)        0 (0%)
  hugepages-2Mi      0 (0%)        0 (0%)
Events:              <none>
[student@workstation ~]$ oc whoami -t 
sha256~Hort9Iabhgo4rnvlhRE-2914gNFFtIh_mMEIQNctgYM
[student@workstation ~]$ 
[student@workstation ~]$ 
[student@workstation ~]$ oc logout 
Logged "kube:admin" out on "https://api.ocp4.example.com:6443"
[student@workstation ~]$ 
[student@workstation ~]$ 
[student@workstation ~]$ oc login -u kubeadmin -p ${RHT_OCP4_KUBEADM_PASSWD}  https://api.ocp4.example.com:6443
Login successful.

You have access to 61 projects, the list has been suppressed. You can list all projects with ' projects'

Using project "install-troubleshoot".
[student@workstation ~]$ oc whoami -t 
sha256~mHHrGdj2XEt65KeCeyfasG4RGgalwK6oRb3-FATmQHo
[student@workstation ~]$ lab install-troubleshoot finish

Completing Guided Exercise: Troubleshooting OpenShift Clusters and Applications

 · Delete OpenShift project 'install-troubleshoot'.............  SUCCESS
 · Wait for project 'install-troubleshoot' to be gone..........  SUCCESS
 · Remove exercise files.......................................  SUCCESS

Please use start if you wish to do the exercise again.

[student@workstation ~]$ vim lab1.txt
[student@workstation ~]$ ls
Desktop  DO180-apps  Documents  lab1.txt  Music     Public     token  Videos
DO180    DO280       Downloads  local     Pictures  Templates  venv
[student@workstation ~]$ ping 8.8.8.8
PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.
64 bytes from 8.8.8.8: icmp_seq=1 ttl=115 time=5.26 ms
64 bytes from 8.8.8.8: icmp_seq=2 ttl=115 time=2.25 ms
^C
--- 8.8.8.8 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 3ms
rtt min/avg/max/mdev = 2.253/3.757/5.262/1.505 ms
[student@workstation ~]$ cd DO180-apps/
[student@workstation DO180-apps]$ ls
example  nodejs-app  nodejs-helloworld  php-helloworld  README.md  temps  todoapp
[student@workstation DO180-apps]$ cp ../lab1.txt .
[student@workstation DO180-apps]$ git add lab1.txt 
[student@workstation DO180-apps]$ git commit -m "lab report1"
[s2i f62511a] lab report1
 1 file changed, 3215 insertions(+)
 create mode 100644 lab1.txt
[student@workstation DO180-apps]$ git push 
Username for 'https://github.com': soumojit011
Password for 'https://soumojit011@github.com': 
remote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.
remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.
fatal: Authentication failed for 'https://github.com/soumojit011/DO180-apps.git/'
[student@workstation DO180-apps]$ git push 
Username for 'https://github.com': soumojit011
Password for 'https://soumojit011@github.com': 
Enumerating objects: 4, done.
Counting objects: 100% (4/4), done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 19.83 KiB | 4.96 MiB/s, done.
Total 3 (delta 1), reused 0 (delta 0)

remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/soumojit011/DO180-apps.git
   64d232f..f62511a  s2i -> s2i
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ git branch 
  master
* s2i
  testbranch
[student@workstation DO180-apps]$ lab authorization-review finish

Completing Lab: Configuring Application Security

 · Delete OpenShift project 'authorization-review'.............  SUCCESS
 · Wait for project 'authorization-review' to be gone..........  SUCCESS
 · Removing the 'anyuid' SCC cluster role binding..............  SUCCESS

Please use start if you wish to do the exercise again.

[student@workstation DO180-apps]$ vi student1
[student@workstation DO180-apps]$ git add student1.txt 
fatal: pathspec 'student1.txt' did not match any files
[student@workstation DO180-apps]$ ls -lrth
total 336K
-rw-rw-r--. 1 student student   54 Sep 19 22:51 README.md
drwxrwxr-x. 2 student student   23 Sep 19 22:51 temps
drwxrwxr-x. 2 student student   40 Sep 19 22:51 nodejs-helloworld
drwxrwxr-x. 2 student student   43 Sep 19 22:51 nodejs-app
drwxrwxr-x. 2 student student   23 Sep 19 22:51 example
drwxrwxr-x. 5 student student   51 Sep 19 22:51 todoapp
drwxrwxr-x. 2 student student   23 Sep 22 05:54 php-helloworld
-rw-rw-r--. 1 student student 165K Sep 24 00:36 lab1.txt
-rw-rw-r--. 1 student student 163K Sep 24 00:41 student1
[student@workstation DO180-apps]$ git add student1.txt 
fatal: pathspec 'student1.txt' did not match any files
[student@workstation DO180-apps]$ git add student1 
[student@workstation DO180-apps]$ git commit -m "student1"
[s2i 8360294] student1
 1 file changed, 2582 insertions(+)
 create mode 100644 student1
[student@workstation DO180-apps]$ git push
remote: Invalid username or password.
fatal: Authentication failed for 'https://github.com/soumojit011/DO180-apps.git/'
[student@workstation DO180-apps]$ git push
Username for 'https://github.com': soumojit011
Password for 'https://soumojit011@github.com': 

remote: Invalid username or password.
fatal: Authentication failed for 'https://github.com/soumojit011/DO180-apps.git/'
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ git push
Username for 'https://github.com': soumojit011
Password for 'https://soumojit011@github.com': 
remote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.
remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.
fatal: Authentication failed for 'https://github.com/soumojit011/DO180-apps.git/'
[student@workstation DO180-apps]$ git push
Username for 'https://github.com': soumojit011
Password for 'https://soumojit011@github.com': 
remote: Invalid username or password.
fatal: Authentication failed for 'https://github.com/soumojit011/DO180-apps.git/'
[student@workstation DO180-apps]$ git push
Username for 'https://github.com': soumojit011
Password for 'https://soumojit011@github.com': 
remote: Invalid username or password.
fatal: Authentication failed for 'https://github.com/soumojit011/DO180-apps.git/'
[student@workstation DO180-apps]$ git push
Username for 'https://github.com': soumojit011
Password for 'https://soumojit011@github.com': 
remote: Invalid username or password.
fatal: Authentication failed for 'https://github.com/soumojit011/DO180-apps.git/'
[student@workstation DO180-apps]$ git push
Username for 'https://github.com': soumojit011
Password for 'https://soumojit011@github.com': 
remote: Invalid username or password.
fatal: Authentication failed for 'https://github.com/soumojit011/DO180-apps.git/'
[student@workstation DO180-apps]$ 

